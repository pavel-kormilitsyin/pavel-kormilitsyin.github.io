(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"006a":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative-position time-tables-carousel"},[s("q-carousel",{ref:"carousel",attrs:{"transition-prev":"slide-right","transition-next":"slide-left",animated:"",height:t.$q.platform.is.desktop?t.desktopHeight:"calc(100% + 2vw)"},on:{"before-transition":t.beforeTransition,transition:t.afterTransition},model:{value:t.currentSlideName,callback:function(e){t.currentSlideName=e},expression:"currentSlideName"}},t._l(t.slides,(function(t){return s("q-carousel-slide",{key:t.name,staticClass:"q-pa-none",attrs:{name:t.name}},[s("time-table-by-period",{attrs:{active:t.active,period:t.period}})],1)})),1),t.showArrows?s("q-btn",{staticClass:"nav-btn prev",attrs:{color:"white","text-color":"accent",icon:"navigate_before"},on:{click:function(e){return t.$refs.carousel.previous()}}}):t._e(),t.showArrows?s("q-btn",{staticClass:"nav-btn next",attrs:{color:"white","text-color":"accent",icon:"navigate_next"},on:{click:function(e){return t.$refs.carousel.next()}}}):t._e()],1)},n=[],a=(s("c740"),s("c975"),s("a434"),s("b0c0"),s("a9e3"),s("ac1f"),s("1276"),s("ded3")),o=s.n(a),r=s("c1df"),c=s.n(r),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"fit relative-position column flex items-stretch"},[t.loading&&t.active?s("div",{staticClass:"absolute-center"},[s("q-spinner-dots",{attrs:{color:"accent",size:"40px"}})],1):t._e(),t.active&&!t.loading?[s("div",{staticClass:"table-container flex-grow-1"},[t.active&&!t.loading?s("q-scroll-area",{attrs:{"thumb-style":t.thumbStyle,"bar-style":t.barStyle}},[s("table",[s("tr",t._l(t.timetables,(function(e,i){return s("td",{class:[i%2===0?"even":"odd"]},[s("div",{staticClass:"item-column"},[t.$q.platform.is.desktop?s("q-separator"):t._e(),s("div",{staticClass:"head relative-position"},[e.isToday?s("div",{staticClass:"today"},[t._v("\n                    Сегодня\n                  ")]):t._e(),s("div",{class:[t.$q.platform.is.desktop?"font-vox-sbi fs-16":"font-exo-2 fs-vw-5_3"]},[t._v("\n                    "+t._s(t.moment(e.date).format("D"))+"\n                  ")]),s("div",{staticClass:"text-secondary",class:[t.$q.platform.is.desktop?"font-sspro-sr fs-14":"font-exo-2"]},[t._v("\n                    "+t._s(t.moment(e.date).format("dddd"))+"\n                  ")])]),t.$q.platform.is.desktop?s("q-separator"):t._e(),t._l(e.events,(function(t){return s("item-block-of-time-table",{key:t.id,attrs:{model:t}})}))],2)])})),0)])]):t._e()],1)]:t._e(),t._t("default")],2)},u=[],d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["block",t.canToggleDriving?"cursor-pointer":""],on:{click:t.onClick}},[s("div",{class:["time",t.stateClassOfTime,t.$q.platform.is.desktop?"font-vox-mi fs-16":"font-exo2-m fs-vw-4"]},[t._v(t._s(t.time())+"\n  ")]),s("div",{class:["descr",t.stateClassOfDescr,t.$q.platform.is.desktop?"font-sspro-sr fs-15":"font-sspro-sr fs-vw-3_2"]},[t.isDriving?[t.$q.platform.is.desktop?s("div",[t.isDrivingMissing?s("q-icon",{attrs:{size:"10px",name:"img:icons/driving_missed.svg"}}):t._e(),t.isDrivingPassed?s("q-icon",{attrs:{size:"16px",name:"img:icons/driving_passed.svg"}}):t._e()],1):t._e()]:t._e(),t._v("\n\n\n    "+t._s(t.caption)+"\n  ")],2)])},m=[],p={name:"ItemBlockOfTimeTable",props:{model:Object},data:function(){return{stateClassOfTime:this.calcStateClassOfTime(),stateClassOfDescr:this.calcStateClassOfDescr()}},computed:{isDriving:function(){return"driving"===this.model.type},isDrivingMissing:function(){return this.isDriving&&this.model.isPassedTime&&!this.model.isInstructorsTimetables&&!1===this.model.completed},isDrivingPassed:function(){return this.isDriving&&this.model.isPassedTime&&!this.model.isInstructorsTimetables&&!0===this.model.completed},isDrivingUnrated:function(){return this.isDriving&&this.model.isPassedTime&&!this.model.isInstructorsTimetables&&null===this.model.completed},canToggleDriving:function(){return!(!this.isDriving||this.model.isInstructorsTimetables||this.model.isPassedTime)},caption:function(){return this.isDriving?this.model.isInstructorsTimetables?this.model.is_free?"Свободно место для записи":"Занято":this.isDrivingMissing?"Вождение пропущено!":this.isDrivingPassed?"Вождение завершено":this.isDrivingUnrated?"Вождение не оценено":this.model.is_free?!this.model.isSelfInstructor&&this.model.instructor?"Свободно место для записи ("+this.model.instructor.full_name+")":"Свободно место для записи":!this.model.isSelfInstructor&&this.model.instructor?"Вы записаны ("+this.model.instructor.full_name+")":"Вы записаны":"-"}},mounted:function(){},methods:{onClick:function(){this.canToggleDriving&&this.$store.dispatch(this.model.is_free?"setScheduleEntryToSignup":"setScheduleEntryToRemoveSignup",this.model)},time:function(){if(!this.model.startTime)return"-";var t=this.$moment(this.model.startTime).format("HH:mm");return this.model.endTime&&(t+=" - "+this.$moment(this.model.endTime).format("HH:mm")),t},calcStateClassOfTime:function(){return this.model.isPassedTime?"driving"===this.model.type&&this.model.isMissing?"driving-missing":"":this.model.type},calcStateClassOfDescr:function(){return this.model.isPassedTime?"driving"===this.model.type&&this.model.isMissing?"driving missing":"":"driving"===this.model.type?this.model.isReserved?"driving":"driving empty":this.model.type}}},f=p,h=(s("23da"),s("2877")),g=s("0016"),v=s("eebe"),b=s.n(v),q=Object(h["a"])(f,d,m,!1,null,"7c54a3a6",null),C=q.exports;b()(q,"components",{QIcon:g["a"]});var x={name:"TimeTableByPeriod",components:{ItemBlockOfTimeTable:C},props:{period:{type:Object,required:!0,validator:function(t){return t.startTime&&t.endTime&&t.endTime>t.startTime}},active:{type:Boolean,required:!0}},mounted:function(){this.activate()},data:function(){return{activated:!1,thumbStyle:{right:"4px",borderRadius:"2px",backgroundColor:"#f44b2f",width:"2px",opacity:1},barStyle:{right:"2px",backgroundColor:"#fafafa",width:"4px",opacity:.5}}},watch:{active:function(){this.activate()}},methods:{createStoreParams:function(){var t=parseInt(this.$route.params.instructorId,10),e={startTime:this.period.startTime,endTime:this.period.endTime};return isNaN(t)||(e.instructorId=t),e},randomBgClass:function(){var t=["green-6","purple-5","red-6","blue-6"];return"bg-"+t[_.random(t.length-1)]},activate:function(){this.active&&!this.activated&&(this.activated=!0,this.$store.dispatch("loadTimeTables",this.createStoreParams()))}},computed:{scrollStyle:function(){return this.$q.platform.is.desktop?{width:"100%",height:"490px"}:{}},timetables:function(){return this.active?this.$store.getters.getTimeTables(this.createStoreParams()):null},loading:function(){return!this.timetables}}},w=x,y=(s("c34c"),s("8380")),k=s("4983"),Q=s("eb85"),T=Object(h["a"])(w,l,u,!1,null,"5828b03c",null),$=T.exports;b()(T,"components",{QSpinnerDots:y["a"],QScrollArea:k["a"],QSeparator:Q["a"]});var S="weekly",I="monthly",D={name:"TimetablesCarousel",components:{TimeTableByPeriod:$},props:{desktopHeight:{type:String,default:"500px"},showArrows:{type:Boolean,default:!0},mode:{type:String,default:S,validator:function(t){return-1!==[S,I].indexOf(t)}},startTime:{type:Number,default:+new Date}},data:function(){return o()({},this.createData())},watch:{currentSlideName:function(t){this.onRangeChange()},startTime:function(t){var e=this.createData();this.currentSlideName=e.currentSlideName,this.slides=e.slides}},methods:{onRangeChange:function(){var t=this.currentSlideName.split("_"),e=parseInt(t[0],10),s=parseInt(t[1],10);this.$emit("range-change",{startTime:e,endTime:s})},createData:function(){var t=this.getPeriodAsMillis(this.startTime),e=this.createSlideName(t),s=this.getPrevPeriod(this.startTime),i=this.getNextPeriod(this.startTime);return{currentSlideName:e,slides:[this.createDataOfSlide(s),this.createDataOfSlide(t,!0),this.createDataOfSlide(i)]}},createDataOfSlide:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{name:this.createSlideName(t),active:e,period:t}},beforeTransition:function(t){},afterTransition:function(t){var e=_.findIndex(this.slides,(function(e){return e.name===t})),s=this.slides[e];s.active=!0,0===e?(this.slides.splice(2),this.slides.unshift(this.createDataOfSlide(this.getPrevPeriod(s.period.startTime)))):2===e&&(this.slides.shift(),this.slides.push(this.createDataOfSlide(this.getNextPeriod(s.period.startTime))))},getPrevPeriod:function(t){var e=this.getPeriodAsMillis(t),s=e.startTime-864e5;return this.getPeriodAsMillis(s)},getNextPeriod:function(t){var e=this.getPeriodAsMillis(t),s=e.endTime+864e5;return this.getPeriodAsMillis(s)},getPeriodAsMillis:function(t){var e=c()(t),s=e.clone().startOf(this.mode===S?"week":"month").valueOf(),i=e.clone().endOf(this.mode===S?"week":"month").startOf("day").valueOf();return{startTime:s,endTime:i}},previous:function(){this.$refs.carousel.previous()},next:function(){this.$refs.carousel.next()},createSlideName:function(t){return t.startTime+"_"+t.endTime}},mounted:function(){this.onRangeChange()}},O=D,M=(s("10be"),s("880c")),P=s("62cd"),E=s("9c40"),H=Object(h["a"])(O,i,n,!1,null,"2fa7a45c",null);e["a"]=H.exports;b()(H,"components",{QCarousel:M["a"],QCarouselSlide:P["a"],QBtn:E["a"]})},"00a7":function(t,e,s){"use strict";s("25cb")},"03d2":function(t,e,s){},"03f3":function(t,e,s){"use strict";e["a"]={pageData:function(){var t=this.$store.getters.instructorsOnlySignup,e=this.$store.getters.userSchool,s=this.$store.getters.userInfo,i=this.$store.getters.allNearestEvents,n=this.$store.getters.getSelfInstructor;return{hasSelfInstructor:n,userHasSchool:!!e,schoolHasInstructors:t.length>0,hasNearestEvents:i.length>0,userHasGroup:!!s&&!!s.group}},canShowCategories:function(){return!this.showChatBtn&&(!(!this.lockedHtml||!this.canShowNearestEvents)||!!this.pageData.schoolHasInstructors)},pageTitle:function(){return this.pageData.userHasSchool?!this.pageData.schoolHasInstructors&&this.canShowNearestEvents?"События в автошколе":this.pageData.schoolHasInstructors?"Выберите инструктора":"Раздел недоступен":"Нужна активация в автошколе"},showChatBtn:function(){return!this.pageData.userHasSchool||!this.pageData.userHasGroup},lockedHtml:function(){return this.pageData.userHasSchool&&(this.pageData.schoolHasInstructors||this.pageData.hasNearestEvents)?this.pageData.schoolHasInstructors?"":this.$q.platform.is.mobile?"Календарь вождений<br>недоступен":"Расписание инструкторов<br>недоступно":"Раздел недоступен"},lockedHintHtml:function(){return this.pageData.userHasSchool?this.pageData.schoolHasInstructors?"":"Автошкола не предоставляет расписание инструкторов в нашем сервисе":'Раздел "Расписание" будет доступен после активации в автошколе. Детали можно узнать в чате с администратором'},canShowNearestEvents:function(){return!!this.pageData.userHasSchool&&this.$store.getters.allNearestEvents.length>0}}},"04a5":function(t,e,s){},"10be":function(t,e,s){"use strict";s("80e6")},"18aa":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("q-dialog",{attrs:{persistent:""},model:{value:t.dialogOutPage,callback:function(e){t.dialogOutPage=e},expression:"dialogOutPage"}},[s("q-card",{staticStyle:{"max-width":"300px"}},[s("q-card-section",{staticClass:"dialog-header",attrs:{align:"center"}},[t._v("\n        Вы действительно хотите уйти со страницы?\n      ")]),s("q-card-section",{staticClass:"dialog-content",attrs:{align:"center"}},[t._v("\n        Все несохраненные данные будут потеряны!\n      ")]),s("q-separator"),s("q-card-section",{staticClass:"gradient-grey row items-center"},[s("q-btn",{staticClass:"btn-cancel",attrs:{"no-caps":"",flat:""},on:{click:function(e){t.dialogOutPage=!1,t.nextRouteFunc(!1)}}},[s("span",{staticClass:"btn-title"},[t._v("Отмена")])]),s("q-space"),s("q-btn",{staticClass:"btn-orange",attrs:{"no-caps":"",flat:""},on:{click:function(e){t.dialogOutPage=!1,t.nextRouteFunc()}}},[s("span",{staticClass:"btn-title"},[t._v("Да, уйти")])])],1)],1)],1),t.$q.platform.is.mobile?t._e():s("tests-desktop"),t.$q.platform.is.mobile?s("tests-mobile"):t._e()],1)},n=[],a=(s("b0c0"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("page-loader",{attrs:{state:t.pageIsLoad}}),s("q-dialog",{attrs:{persistent:""},model:{value:t.dialogAdditionalQuestion,callback:function(e){t.dialogAdditionalQuestion=e},expression:"dialogAdditionalQuestion"}},[t.listQuestions?s("q-card",{staticStyle:{"max-width":"350px"}},[s("q-card-section",{staticClass:"dialog-header",attrs:{align:"center"}},[t._v("\n        Вы допустили "+t._s(t.listQuestions.length/5)+" "+t._s(t.getNoun(t.listQuestions.length/5,"ошибку","ошибки","ошибок"))+"\n      ")]),s("q-card-section",{staticClass:"dialog-content",attrs:{align:"center"}},[t._v("\n        Чтобы сдать экзамен Вам необходимо "),s("u",[t._v("без ошибок")]),t._v(" ответить на "),s("b",[t._v(t._s(t.listQuestions.length/5*5))]),t._v(" дополнительных вопросов!"),s("br")]),s("q-card-section",{staticClass:"dialog-content font-vox-sbi",attrs:{align:"center"}},[t.dialogAdditionalQuestion?s("span",{staticClass:"text-h4"},[t._v(t._s(t.currTimer))]):t._e()]),s("q-separator"),s("q-card-section",{staticClass:"gradient-grey",attrs:{align:"center"}},[s("q-btn",{staticClass:"btn-orange",attrs:{"no-caps":"",flat:""},on:{click:function(e){t.dialogAdditionalQuestion=!1}}},[s("span",{staticClass:"btn-title"},[t._v("Продолжить")])])],1)],1):t._e()],1),t.listQuestions?s("div",[s("div",{staticClass:"row items-center head-page"},[s("div",{staticClass:"col-auto"},["training"==t.testType?s("span",{staticClass:"title"},[t._v("Тренировка:")]):t._e(),"credit"==t.testType?s("span",{staticClass:"title"},[t._v("Зачет:")]):t._e(),"group_credit"==t.testType?s("span",{staticClass:"title"},[t._v("Групповой зачет")]):t._e(),"exam"==t.testType?s("span",{staticClass:"title"},[t._v("Экзамен")]):t._e(),"tickets_test"==t.testType?s("span",{staticClass:"title"},[t._v("Билет #"+t._s(t.$route.params.ticket_num))]):t._e()]),"training"==t.testType||"credit"==t.testType&&t.relatedLesson?s("div",{staticClass:"col q-ml-sm subtitle-small self-end ellipsis"},[t._v("\n        "+t._s(t.relatedLesson.title)+"\n      ")]):t._e(),s("q-space"),s("q-btn",{staticClass:"btn-white square",attrs:{"no-caps":"",dense:"",flat:""}},[s("span",{staticClass:"btn-info"},[t._v("i")]),s("q-menu",{attrs:{flat:"","content-class":"transparent card-shadow normal"}},[s("div",{staticClass:"info-text-wrapper"},[s("div",{staticClass:"info-text"},[t._v("\n              В режиме тренировки правильные ответы появляются в билетах в виде подсказки после того, как вы ответили на вопрос.\n            ")])])])],1),s("q-btn",{staticClass:"btn-white row items-center q-ml-lg",attrs:{"no-caps":"",flat:""},on:{click:function(e){return t.$router.go(-1)}}},[s("q-icon",{staticStyle:{transform:"rotate(180deg)"},attrs:{name:"img:icons/Arrow_Small.svg",size:"11px"}}),s("span",{staticClass:"q-ml-md"},[t._v("Назад")])],1)],1),s("div",{staticClass:"content-page"},[t.listQuestions?s("q-card",{staticClass:"card-shadow",attrs:{flat:""}},[s("q-card-section",{staticClass:"gradient-grey q-pa-sm"},[s("div",{staticClass:"tests-questions"},t._l(t.listQuestions,(function(e,i){return s("div",{key:i,staticClass:"question-n row items-center justify-center inline",class:{answered:e.hasOwnProperty("status")&&!t.allowHints,current:i==t.currIndexQ,"item-success":"success"===e.status&&t.allowHints,"item-error":"error"===e.status&&t.allowHints},on:{click:function(e){t.currIndexQ=i}}},[t._v("\n              "+t._s(i+1)+"\n            ")])})),0)]),s("q-separator"),s("q-card-section",{staticClass:"text-h4"},[t._v("\n          Вопрос "+t._s(t.currIndexQ+1)+"\n        ")]),t.listQuestions&&void 0!=t.listQuestions[t.currIndexQ]&&t.listQuestions[t.currIndexQ].image?s("q-card-section",[s("q-img",{staticStyle:{width:"350px","min-height":"132px"},attrs:{src:t.origin+t.listQuestions[t.currIndexQ].image+"?v="+t.rnd,contain:""},on:{click:function(e){return t.showImage([{thumbnail:t.origin+t.listQuestions[t.currIndexQ].image,source:t.origin+t.listQuestions[t.currIndexQ].image}])}}})],1):t._e(),s("q-card-section",{staticClass:"text-h6 font-sspro-sr q-pl-lg select-none"},[t._v("\n          "+t._s(t.listQuestions[t.currIndexQ].question_text)+"\n        ")]),s("q-card-section",{staticClass:"text-h6 font-sspro-sr q-pt-none q-pb-md q-pr-lg q-pl-lg"},[t._l(t.listQuestions[t.currIndexQ].questionoption_set,(function(e,i){return s("div",{staticClass:"answer-item",class:{clicked:!t.listQuestions[t.currIndexQ].hasOwnProperty("status")&&e.id==t.listQuestions[t.currIndexQ].clicked_id,answered:t.listQuestions[t.currIndexQ].hasOwnProperty("status")&&"training"!=t.testType&&e.id==t.listQuestions[t.currIndexQ].clicked_id&&!t.allowHints,pen:t.listQuestions[t.currIndexQ].hasOwnProperty("status"),"item-success":("success"==t.listQuestions[t.currIndexQ].status||"error"==t.listQuestions[t.currIndexQ].status)&&e.id==t.listQuestions[t.currIndexQ].correct_option_id&&t.allowHints,"item-error":"error"==t.listQuestions[t.currIndexQ].status&&e.id==t.listQuestions[t.currIndexQ].clicked_id&&t.allowHints},on:{click:function(s){return t.selectAnswer(e)}}},[s("span",{staticClass:"num"},[t._v(t._s(i+1)+".")]),t._v(" "+t._s(e.text)+"\n          ")])})),t.listQuestions[t.currIndexQ].hasOwnProperty("status")&&t.allowHints?s("div",{staticClass:"row items-center q-pa-md q-mt-sm text-subtitle1",staticStyle:{background:"#f0f1f7","border-radius":"7px"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-auto"},[s("span",{staticClass:"round-icon q-mt-sm"},[t._v("i")])]),s("div",{staticClass:"col",domProps:{innerHTML:t._s(t.listQuestions[t.currIndexQ].description)}})])]):t._e()],2),s("q-separator"),s("q-card-section",{staticClass:"row items-center"},[s("q-btn",{staticClass:"btn-orange col-auto",attrs:{flat:"","no-caps":""},on:{click:function(e){t.listQuestions.length==t.countAnswered?t.gotoResults():t.nextEmptyQuestion()}}},[s("q-icon",{attrs:{name:"img:icons/Button_Navigation.svg",size:"20px"}}),s("span",{staticClass:"btn-title"},[t._v(t._s(t.listQuestions.length==t.countAnswered?"Завершить":"Далее"))])],1),s("q-space"),t.userInfo.test?s("div",[s("q-btn",{staticClass:"col-auto q-mr-md",attrs:{flat:"","no-caps":""},on:{click:function(e){return t.autoTest(!0)}}},[s("q-icon",{attrs:{name:"img:icons/Button_Navigation.svg",size:"20px"}}),s("span",{staticClass:"btn-title text-green"},[t._v("Авто тест (все верные)")])],1),s("q-btn",{staticClass:"col-auto q-mr-md",attrs:{flat:"","no-caps":""},on:{click:function(e){return t.autoTest(!1)}}},[s("q-icon",{attrs:{name:"img:icons/Button_Navigation.svg",size:"20px"}}),s("span",{staticClass:"btn-title text-red"},[t._v("Авто тест (неверные)")])],1),s("q-btn",{staticClass:"col-auto q-mr-md",attrs:{flat:"","no-caps":""},on:{click:function(e){return t.autoTest("reset")}}},[s("q-icon",{attrs:{name:"img:icons/Button_Navigation.svg",size:"20px"}}),s("span",{staticClass:"btn-title"},[t._v("Сброс")])],1),s("q-btn",{staticClass:"col-auto q-mr-md",attrs:{flat:"","no-caps":""},on:{click:function(e){return t.autoTest("current")}}},[s("q-icon",{attrs:{name:"img:icons/Button_Navigation.svg",size:"20px"}}),s("span",{staticClass:"btn-title"},[t._v("Сброс выбранного")])],1)],1):t._e()],1)],1):t._e()],1)]):t._e(),t.listQuestions&&("credit"==t.testType||"exam"==t.testType||"group_credit"==t.testType||"tickets_test"==t.testType&&"true"==t.$route.query.credit)?s("div",{staticClass:"timer",attrs:{id:"timer"}},[s("div",{staticClass:"timer-main"},[s("p",{staticClass:"timer-main-title"},[s("countdown",{attrs:{time:60*t.listQuestions.length*1e3},on:{end:function(e){return t.gotoResults({timeover:!0})},progress:t.handleCountdownProgress},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.hours<10?"0"+e.hours:e.hours)+" : "+t._s(e.minutes<10?"0"+e.minutes:e.minutes)+" : "+t._s(e.seconds<10?"0"+e.seconds:e.seconds)+" ")]}}],null,!1,3708931525)})],1),s("p",{staticClass:"timer-main-desc"},[t._v("Времени осталось\n      ")])]),s("div",{staticClass:"timer-footer"},[s("p",{staticClass:"timer-footer-text"},[t._v("Отвечено: "+t._s(t.countAnswered)+" из "+t._s(t.listQuestions.length))])])]):t._e(),s("img-viewer",{ref:"viewer"})],1)}),o=[],r=(s("4de4"),s("7db0"),s("c740"),s("c975"),s("6374")),c=s.n(r),l=s("ded3"),u=s.n(l),d=(s("bc3a"),s("2f62")),m=s("4476"),p=s("9420"),f=s("dafb"),h=s("9d0b"),g=s("9ce6"),v=s("a086"),b=s("9f3a");s("8ad7");m["a"].registerPlugin(p["a"],f["a"],h["a"],g["a"]);var q={name:"Training",components:{ImgViewer:v["a"],PageLoader:b["a"]},data:function(){return{pageIsLoad:!1,rnd:0,allowHints:!1,currTimer:null,nextRouteFunc:null,isLunchResults:!1,dialogAdditionalQuestion:!1,credit_token:null,currIndexQ:0,listQuestions:null,additionalQuestions:null}},methods:u()(u()({},Object(d["b"])(["getTokenLesson","getTokenExam","getTokenGroupCredit","getTokenTickets","sendLessonResults","sendGroupCreditResults","sendExamResults","sendTicketsResults","getQuestions","setResultsTest","getListLessons","getTickets"])),{},{handleCountdownProgress:function(t){this.currTimer=(t.hours<10?"0"+t.hours:t.hours)+":"+(t.minutes<10?"0"+t.minutes:t.minutes)+":"+(t.seconds<10?"0"+t.seconds:t.seconds)},showImage:function(t){this.$refs.viewer.show(t)},gotoResults:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isLunchResults){this.isLunchResults=!0;var s,i,n={},a=c()(this.listQuestions);try{for(a.s();!(s=a.n()).done;){var o=s.value;o.hasOwnProperty("status")&&(n[o.id]=o.clicked_id)}}catch(l){a.e(l)}finally{a.f()}var r={credit_token:this.credit_token,answers:n};"training"==this.testType&&(i=this.sendLessonResults(r)),"credit"==this.testType&&(i=this.sendLessonResults(r)),"group_credit"==this.testType&&(i=this.sendGroupCreditResults(r)),"exam"==this.testType&&(i=this.sendExamResults(r)),"tickets_test"==this.testType&&(i=this.sendTicketsResults(r)),i.then((function(s){s.status>=400?t.$q.notify({icon:"warning",message:s.data.errors[0].message,timeout:3e3,color:"blue-grey-10",html:!0,position:"top"}):("tickets_test"==t.testType&&t.getTickets({}),s.data.hasOwnProperty("token")&&201==s.status?(t.listQuestions=null,t.currIndexQ=0,t.credit_token=s.data.token,t.getQuestions({credit_token:t.credit_token}).then((function(e){e.status>=400?t.$router.push({path:"/dashboard"}).catch((function(t){})):(t.currIndexQ=0,t.dialogAdditionalQuestion=!0,t.isLunchResults=!1,t.listQuestions=e.data,t.draggableTimerInit())}))):(t.setResultsTest(s.data),t.$router.push({path:t.$route.path+"/results",query:e}),t.getListLessons({}).then((function(t){})),t.getClientByCategory(t.currCat,!0)))}))}},nextEmptyQuestion:function(){var t=this,e=this.listQuestions[this.currIndexQ];if(!e.hasOwnProperty("clicked_id")||e.hasOwnProperty("status")){for(var s=0;s<this.listQuestions.length;s++)if(!this.listQuestions[s].hasOwnProperty("status")&&this.currIndexQ!=this.listQuestions.length-1){var i=_.findIndex(this.listQuestions,(function(e){return!e.hasOwnProperty("status")&&e.idx>t.currIndexQ}));if(-1!=i)return void(this.currIndexQ=i)}this.currIndexQ=_.findIndex(this.listQuestions,(function(t){return!t.hasOwnProperty("status")}))}else{var n=_.find(this.listQuestions[this.currIndexQ].questionoption_set,{id:e.clicked_id});this.selectAnswer(n)}},selectAnswer:function(t){var e=this.listQuestions[this.currIndexQ];e.hasOwnProperty("clicked_id")&&e.clicked_id==t.id&&(this.listQuestions[this.currIndexQ].correct_option_id===t.id?this.$set(e,"status","success"):this.$set(e,"status","error"),this.allowHints||this.listQuestions.length!=this.countAnswered&&this.nextEmptyQuestion()),t.hasOwnProperty("status")||this.$set(e,"clicked_id",t.id)},autoTest:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=0;e<this.listQuestions.length;e++){var s=this.listQuestions[e];if("current"==t&&this.currIndexQ===e)return this.$delete(s,"clicked_id"),void this.$delete(s,"status");var i,n=c()(s.questionoption_set);try{for(n.s();!(i=n.n()).done;){var a=i.value;"reset"!=t?0!=e&&5!=e||0!=t?-1!=a.text.toLowerCase().indexOf("+")&&"current"!=t&&(this.$set(s,"clicked_id",parseInt(a.id)),this.$set(s,"status","success")):-1==a.text.toLowerCase().indexOf("+")&&(this.$set(s,"clicked_id",parseInt(a.id)),this.$set(s,"status","error")):(this.$delete(s,"clicked_id"),this.$delete(s,"status"))}}catch(o){n.e(o)}finally{n.f()}}},draggableTimerInit:function(){this.$nextTick((function(){document.querySelector("#timer")&&f["a"].create("#timer",{type:"y",bounds:".q-page"})}))},initDataPage:function(){var t,e=this;if("training"==this.testType&&(t=this.getTokenLesson({lesson_id:parseInt(this.$route.params.id),credit:!1}),this.allowHints=!0),"credit"==this.testType&&(t=this.getTokenLesson({lesson_id:parseInt(this.$route.params.id),credit:!0})),"group_credit"==this.testType&&(t=this.getTokenGroupCredit({})),"exam"==this.testType&&(t=this.getTokenExam({})),"tickets_test"==this.testType){var s="true"==this.$route.query.credit;t=this.getTokenTickets({ticket_num:parseInt(this.$route.params.ticket_num),credit:s}),this.allowHints=!s}this.pageIsLoad=!0,t.then((function(t){e.credit_token=t.data.token,e.getQuestions({credit_token:e.credit_token}).then((function(t){if(e.pageIsLoad=!1,t.status>=400)e.$router.push({path:"/dashboard"}).catch((function(t){}));else{e.listQuestions=t.data;for(var s=0;s<e.listQuestions.length;s++){var i=e.listQuestions[s];e.$set(i,"idx",s)}e.draggableTimerInit()}}))}))}}),watch:{userInfo:function(t){this.initDataPage()}},computed:u()(u()({},Object(d["c"])(["currCat","origin","listLessons"])),{},{countAnswered:function(){return this.listQuestions&&this.listQuestions.length>0?_.filter(this.listQuestions,(function(t){return t.hasOwnProperty("status")})).length:0},testType:function(){return this.$route.name},relatedLesson:function(){var t=_.find(this.listLessons,{id:parseInt(this.$route.params.id)});return void 0!=t?t:null}}),mounted:function(){this.userInfo&&this.initDataPage(),this.rnd=_.random(0,1e4)}},C=q,x=s("2877"),w=s("9989"),y=s("24e8"),k=s("f09f"),Q=s("a370"),T=s("eb85"),$=s("9c40"),S=s("2c91"),I=s("4e73"),D=s("0016"),O=s("068f"),M=s("eebe"),P=s.n(M),E=Object(x["a"])(C,a,o,!1,null,null,null),H=E.exports;P()(E,"components",{QPage:w["a"],QDialog:y["a"],QCard:k["a"],QCardSection:Q["a"],QSeparator:T["a"],QBtn:$["a"],QSpace:S["a"],QMenu:I["a"],QIcon:D["a"],QImg:O["a"]});var N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",{staticStyle:{background:"#F0F1F7"}},[s("page-loader",{attrs:{state:t.pageIsLoad}}),s("q-dialog",{attrs:{persistent:""},model:{value:t.dialogAdditionalQuestion,callback:function(e){t.dialogAdditionalQuestion=e},expression:"dialogAdditionalQuestion"}},[t.listQuestions?s("q-card",{staticStyle:{"max-width":"350px"}},[s("q-card-section",{staticClass:"dialog-header",attrs:{align:"center"}},[t._v("\n          Вы допустили "+t._s(t.listQuestions.length/5)+" "+t._s(t.getNoun(t.listQuestions.length/5,"ошибку","ошибки","ошибок"))+"\n        ")]),s("q-card-section",{staticClass:"dialog-content",attrs:{align:"center"}},[t._v("\n          Чтобы сдать экзамен Вам необходимо "),s("u",[t._v("без ошибок")]),t._v(" ответить на "),s("b",[t._v(t._s(t.listQuestions.length/5*5))]),t._v(" дополнительных вопросов!"),s("br")]),s("q-card-section",{staticClass:"dialog-content font-vox-sbi",attrs:{align:"center"}},[t.dialogAdditionalQuestion?s("span",{staticClass:"text-h4"},[t._v(t._s(t.currTimer))]):t._e()]),s("q-separator"),s("q-card-section",{staticClass:"gradient-grey",attrs:{align:"center"}},[s("q-btn",{staticClass:"btn-orange",attrs:{"no-caps":"",flat:""},on:{click:function(e){t.dialogAdditionalQuestion=!1}}},[s("span",{staticClass:"btn-title"},[t._v("Продолжить")])])],1)],1):t._e()],1),s("q-dialog",{model:{value:t.dialogInfo,callback:function(e){t.dialogInfo=e},expression:"dialogInfo"}},[s("q-card",{staticClass:"dialog-gradient"},[s("q-card-section",{staticClass:"row items-center"},[s("div",{staticClass:"col-auto"},[s("span",{staticClass:"attention-item"},[t._v("?")])]),s("div",{staticClass:"col font-exo2-m fs-20"},[t._v("Подсказки в билетах")])]),s("q-card-section",[s("div",{staticClass:"fs-15 font-sspro-sr",staticStyle:{"line-height":"20px"}},[t._v("\n            В режиме тренировки правильные ответы появляются в билетах в виде подсказки после того, как вы ответили на вопрос.\n          ")])]),s("q-card-section",{attrs:{align:"center"}},[s("q-btn",{staticClass:"btn-orange full-width",attrs:{"no-caps":""},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.dialogInfo=!1}}},[s("span",{staticClass:"btn-title"},[t._v("Понятно")])])],1)],1)],1),s("q-card",{staticClass:"tests transparent",staticStyle:{"border-radius":"0 !important"},attrs:{flat:""}},[s("q-card-section",{staticClass:"tests-top full-width shadow-bot-1"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col-auto"},[s("q-btn",{staticClass:"q-pr-md",attrs:{dense:"",round:"",flat:""},on:{click:function(e){return t.$router.go(-1)}}},[s("q-icon",{staticStyle:{transform:"rotate(180deg)"},attrs:{name:"img:icons/schedule.svg",size:"20px"}})],1)],1),s("div",{staticClass:"col"},[s("div",{staticClass:"row items-center"},[s("div",{staticClass:"col"},["training"==t.testType?s("span",{staticClass:"tests-head"},[t._v("Тренировка")]):t._e(),"credit"==t.testType?s("span",{staticClass:"tests-head"},[t._v("Зачет")]):t._e(),"group_credit"==t.testType?s("span",{staticClass:"tests-head"},[t._v("Групповой зачет")]):t._e(),"exam"==t.testType?s("span",{staticClass:"tests-head"},[t._v("Экзамен")]):t._e(),"tickets_test"==t.testType?s("span",{staticClass:"tests-head"},[t._v("Билет #"+t._s(t.$route.params.ticket_num))]):t._e()])]),s("div",{staticClass:"row q-mt-xs"},[s("div",{staticClass:"col text-left"},["training"==t.testType||"credit"==t.testType&&t.relatedLesson?s("div",{staticClass:"tests-subtitle ellipsis"},[t._v("\n                  "+t._s(t.relatedLesson.title)+"\n                ")]):t._e()])])]),t.userInfo.test?s("div",{staticClass:"col-auto"},[s("q-btn",{attrs:{flat:"",round:"",icon:"check"}},[s("q-menu",{attrs:{"auto-close":!0,"content-class":"transparent card-shadow normal"}},[s("q-card",[s("q-card-section",[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-auto q-mr-md",attrs:{flat:"","no-caps":""},on:{click:function(e){return t.autoTest(!0)}}},[s("q-icon",{attrs:{name:"img:icons/Button_Navigation.svg",size:"20px"}}),s("span",{staticClass:"btn-title text-green"},[t._v("Авто тест (все верные)")])],1),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-auto q-mr-md",attrs:{flat:"","no-caps":""},on:{click:function(e){return t.autoTest(!1)}}},[s("q-icon",{attrs:{name:"img:icons/Button_Navigation.svg",size:"20px"}}),s("span",{staticClass:"btn-title text-red"},[t._v("Авто тест (неверные)")])],1),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-auto q-mr-md",attrs:{flat:"","no-caps":""},on:{click:function(e){return t.autoTest("reset")}}},[s("q-icon",{attrs:{name:"img:icons/Button_Navigation.svg",size:"20px"}}),s("span",{staticClass:"btn-title"},[t._v("Сброс всех")])],1),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-auto q-mr-md",attrs:{flat:"","no-caps":""},on:{click:function(e){return t.autoTest("current")}}},[s("q-icon",{attrs:{name:"img:icons/Button_Navigation.svg",size:"20px"}}),s("span",{staticClass:"btn-title"},[t._v("Сброс выбранного")])],1)],1)],1)],1)],1)],1):t._e(),s("div",{staticClass:"col-auto"},[s("q-btn",{attrs:{"no-caps":"",dense:"",flat:""},on:{click:function(e){t.dialogInfo=!0}}},[s("span",{staticClass:"attention-item"},[t._v("?")])]),s("q-btn",{attrs:{icon:"fullscreen",round:"",flat:""},on:{click:function(e){return t.$q.fullscreen.toggle()}}})],1)])])],1),t.listQuestions?s("q-card",{staticClass:"transparent",attrs:{flat:"",square:""}},[s("q-card-section",{staticClass:"shadow-bot-2 gradient-grey q-pl-xs q-pr-xs q-pt-none q-pb-none row items-center",staticStyle:{"border-radius":"0",height:"55px"}},[s("swiper",{ref:"swiper",staticClass:"full-width",attrs:{options:t.swiperOption}},t._l(t.listQuestions,(function(e,i){return s("swiper-slide",{key:e.id,staticClass:"tests-questions-mobile"},[s("div",{staticClass:"question-item row items-center justify-center",class:{current:i==t.currIndexQ}},[s("div",{staticClass:"question-n row items-center justify-center",class:{answered:e.hasOwnProperty("status")&&!t.allowHints,"item-success":"success"===e.status&&t.allowHints,"item-error":"error"===e.status&&t.allowHints},on:{click:function(e){t.currIndexQ=i}}},[t._v("\n                "+t._s(i+1)+"\n              ")])])])})),1)],1),t.listQuestions&&t.listQuestions[t.currIndexQ].image?s("q-card-section",{staticClass:"q-pa-sm"},[s("q-img",{staticStyle:{width:"100%","border-radius":"5px","min-height":"132px"},attrs:{src:t.origin+t.listQuestions[t.currIndexQ].image+"?v="+t.rnd,contain:""},on:{click:function(e){return t.showImage([{thumbnail:t.origin+t.listQuestions[t.currIndexQ].image,source:t.origin+t.listQuestions[t.currIndexQ].image}])}}})],1):t._e(),s("q-card-section",{staticClass:"font-sspro-sr q-pl-md q-pt-md fs-16"},[t._v("\n        "+t._s(t.listQuestions[t.currIndexQ].question_text)+"\n      ")]),s("q-card-section",{staticClass:"text-h6 font-sspro-sr q-pt-none q-pb-xl q-pr-sm q-pl-sm"},[t._l(t.listQuestions[t.currIndexQ].questionoption_set,(function(e,i){return s("div",{staticClass:"answer-item",class:{clicked:!t.listQuestions[t.currIndexQ].hasOwnProperty("status")&&e.id==t.listQuestions[t.currIndexQ].clicked_id,answered:t.listQuestions[t.currIndexQ].hasOwnProperty("status")&&"training"!=t.testType&&e.id==t.listQuestions[t.currIndexQ].clicked_id&&!t.allowHints,pen:t.listQuestions[t.currIndexQ].hasOwnProperty("status"),"item-success":("success"==t.listQuestions[t.currIndexQ].status||"error"==t.listQuestions[t.currIndexQ].status)&&e.id==t.listQuestions[t.currIndexQ].correct_option_id&&t.allowHints,"item-error":"error"==t.listQuestions[t.currIndexQ].status&&e.id==t.listQuestions[t.currIndexQ].clicked_id&&t.allowHints},on:{click:function(s){return t.selectAnswer(e)}}},[s("span",{staticClass:"num"},[t._v(t._s(i+1)+".")]),t._v(" "+t._s(e.text)+"\n        ")])})),t.listQuestions[t.currIndexQ].hasOwnProperty("status")&&t.allowHints?s("div",{staticClass:"row items-center q-pa-md q-mt-sm text-subtitle1",staticStyle:{background:"#DDDFEB","border-radius":"7px"}},[s("div",{staticClass:"row items-start"},[s("div",{staticClass:"col-auto"},[s("span",{staticClass:"round-icon q-mt-none"},[t._v("i")])]),s("div",{staticClass:"col",staticStyle:{"line-height":"18px"},domProps:{innerHTML:t._s(t.listQuestions[t.currIndexQ].description)}})])]):t._e(),s("div",{staticStyle:{"min-height":"25px"}})],2)],1):t._e(),s("div",{staticClass:"full-width q-pa-none btn-next-test-mobile relative-position",staticStyle:{height:"70px"}},[s("div",{staticClass:"timer-mobile row items-center "},[t.showTimer&&t.listQuestions?s("div",{staticClass:"col"},[s("div",[s("div",{staticClass:"time"},[t._v(t._s(t.currTimer))]),s("div",{staticClass:"time-title"},[t._v("Времени осталось")]),s("div",{staticClass:"time-answ"},[t._v(t._s(t.countAnswered)+"/"+t._s(t.listQuestions.length))]),s("div",{staticClass:"time-answ-title"},[t._v("Отвечено")]),s("img",{staticStyle:{position:"absolute",bottom:"0",left:"50px","z-index":"1",opacity:"0.5"},attrs:{src:"icons/Mobile_timer.svg"}})])]):t._e(),s("div",{class:{"col text-center full-width":!t.showTimer,"col-auto q-pr-md":t.showTimer}},[s("q-btn",{staticClass:"btn-orange-mobile",style:{"min-width":t.showTimer?"auto":"200px"},attrs:{flat:"","no-caps":""},on:{click:function(e){t.listQuestions.length==t.countAnswered?t.gotoResults():t.nextEmptyQuestion()}}},[s("span",{staticClass:"btn-title"},[t._v(t._s(t.listQuestions&&t.listQuestions.length==t.countAnswered?"Завершить":"Далее"))]),s("q-icon",{staticClass:"q-ml-xs",attrs:{name:"img:icons/Arrow_Small_white.svg",size:"10px"}})],1)],1)])]),s("img-viewer",{ref:"viewer"}),t.showTimer&&t.listQuestions?s("countdown",{attrs:{time:59*t.listQuestions.length*1e3},on:{end:function(e){return t.gotoResults({timeover:"true"})},progress:t.handleCountdownProgress}}):t._e()],1)},L=[],R=s("7212");s("a7a3"),s("8ad7");m["a"].registerPlugin(p["a"],f["a"],h["a"],g["a"]);var j={name:"Test",components:{PageLoader:b["a"],ImgViewer:v["a"],Swiper:R["Swiper"],SwiperSlide:R["SwiperSlide"]},data:function(){return{pageIsLoad:!1,rnd:0,allowHints:!1,currTimer:null,isLunchResults:!1,dialogInfo:!1,dialogOutPage:!1,dialogTimeOver:!1,dialogAdditionalQuestion:!1,credit_token:null,currIndexQ:0,listQuestions:null,additionalQuestions:null,swiperOption:{slidesPerView:8,slidesPerGroup:8,spaceBetween:0,slidesPerColumn:1,direction:"horizontal"}}},methods:u()(u()({},Object(d["b"])(["getTokenLesson","getTokenExam","getTokenGroupCredit","getTokenTickets","sendLessonResults","sendGroupCreditResults","sendExamResults","sendTicketsResults","getQuestions","setResultsTest","getListLessons"])),{},{handleCountdownProgress:function(t){this.currTimer=(t.hours<10?"0"+t.hours:t.hours)+":"+(t.minutes<10?"0"+t.minutes:t.minutes)+":"+(t.seconds<10?"0"+t.seconds:t.seconds)},showImage:function(t){this.$refs.viewer.show(t)},gotoResults:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isLunchResults){this.isLunchResults=!0;var s,i,n={},a=c()(this.listQuestions);try{for(a.s();!(s=a.n()).done;){var o=s.value;o.hasOwnProperty("status")&&(n[o.id]=o.clicked_id)}}catch(l){a.e(l)}finally{a.f()}var r={credit_token:this.credit_token,answers:n};"training"==this.testType&&(i=this.sendLessonResults(r)),"credit"==this.testType&&(i=this.sendLessonResults(r)),"group_credit"==this.testType&&(i=this.sendGroupCreditResults(r)),"exam"==this.testType&&(i=this.sendExamResults(r)),"tickets_test"==this.testType&&(i=this.sendTicketsResults(r)),i.then((function(s){"tickets_test"==t.testType&&t.getTickets({}),s.data.hasOwnProperty("token")&&201==s.status?(t.credit_token=s.data.token,t.getQuestions({credit_token:t.credit_token}).then((function(e){e.status>=400?t.$router.push({path:"/dashboard"}).catch((function(t){})):(t.currIndexQ=0,t.listQuestions=e.data,t.dialogAdditionalQuestion=!0,t.isLunchResults=!1)}))):(t.getListLessons({}).then((function(t){})),t.getClientByCategory(t.currCat,!0),t.setResultsTest(s.data),t.$router.push({path:t.$route.path+"/results",query:e}))}))}},nextEmptyQuestion:function(){var t=this,e=this.listQuestions[this.currIndexQ];if(!e.hasOwnProperty("clicked_id")||e.hasOwnProperty("status")){for(var s=0;s<this.listQuestions.length;s++)if(!this.listQuestions[s].hasOwnProperty("status")&&this.currIndexQ!=this.listQuestions.length-1){var i=_.findIndex(this.listQuestions,(function(e){return!e.hasOwnProperty("status")&&e.idx>t.currIndexQ}));if(-1!=i)return void(this.currIndexQ=i)}this.currIndexQ=_.findIndex(this.listQuestions,(function(t){return!t.hasOwnProperty("status")}))}else{var n=_.find(this.listQuestions[this.currIndexQ].questionoption_set,{id:e.clicked_id});this.selectAnswer(n)}},selectAnswer:function(t){var e=this.listQuestions[this.currIndexQ];e.hasOwnProperty("clicked_id")&&e.clicked_id==t.id&&(this.listQuestions[this.currIndexQ].correct_option_id===t.id?this.$set(e,"status","success"):this.$set(e,"status","error"),this.allowHints||this.listQuestions.length!=this.countAnswered&&this.nextEmptyQuestion()),t.hasOwnProperty("status")||this.$set(e,"clicked_id",t.id)},autoTest:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=0;e<this.listQuestions.length;e++){var s=this.listQuestions[e];if("current"==t&&this.currIndexQ===e)return this.$delete(s,"clicked_id"),void this.$delete(s,"status");var i,n=c()(s.questionoption_set);try{for(n.s();!(i=n.n()).done;){var a=i.value;"reset"!=t?0!=e&&5!=e||0!=t?-1!=a.text.toLowerCase().indexOf("+")&&"current"!=t&&(this.$set(s,"clicked_id",parseInt(a.id)),this.$set(s,"status","success")):-1==a.text.toLowerCase().indexOf("+")&&(this.$set(s,"clicked_id",parseInt(a.id)),this.$set(s,"status","error")):(this.$delete(s,"clicked_id"),this.$delete(s,"status"))}}catch(o){n.e(o)}finally{n.f()}}},initDataPage:function(){var t,e=this;if("training"==this.testType&&(t=this.getTokenLesson({lesson_id:parseInt(this.$route.params.id),credit:!1}),this.allowHints=!0),"credit"==this.testType&&(t=this.getTokenLesson({lesson_id:parseInt(this.$route.params.id),credit:!0})),"group_credit"==this.testType&&(t=this.getTokenGroupCredit({})),"exam"==this.testType&&(t=this.getTokenExam({})),"tickets_test"==this.testType){var s="true"==this.$route.query.credit;t=this.getTokenTickets({ticket_num:parseInt(this.$route.params.ticket_num),credit:s}),this.allowHints=!s}this.pageIsLoad=!0,t.then((function(t){e.credit_token=t.data.token,e.getQuestions({credit_token:e.credit_token}).then((function(t){if(e.pageIsLoad=!1,t.status>=400)e.$router.push({path:"/dashboard"}).catch((function(t){}));else{e.listQuestions=t.data;for(var s=0;s<e.listQuestions.length;s++){var i=e.listQuestions[s];e.$set(i,"idx",s)}}}))}))}}),watch:{userInfo:function(t){this.initDataPage()},currIndexQ:function(t){this.$refs.swiper.$swiper.slideTo(t,300)}},computed:u()(u()({},Object(d["c"])(["currCat","origin","listlessons"])),{},{showTimer:function(){return"credit"==this.testType||"exam"==this.testType||"group_credit"==this.testType||"tickets_test"==this.testType&&"true"==this.$route.query.credit},countAnswered:function(){return this.listQuestions&&this.listQuestions.length>0?_.filter(this.listQuestions,(function(t){return t.hasOwnProperty("status")})).length:0},testType:function(){return this.$route.name},relatedLesson:function(){var t=_.find(this.listLessons,{id:parseInt(this.$route.params.id)});return void 0!=t?t:null}}),mounted:function(){this.userInfo&&this.initDataPage(),this.rnd=_.random(0,1e4)}},A=j,B=s("7f67"),z=Object(x["a"])(A,N,L,!1,null,null,null),F=z.exports;P()(z,"components",{QPage:w["a"],QDialog:y["a"],QCard:k["a"],QCardSection:Q["a"],QSeparator:T["a"],QBtn:$["a"],QIcon:D["a"],QMenu:I["a"],QImg:O["a"]}),P()(z,"directives",{ClosePopup:B["a"]});var V={name:"Test",components:{TestsDesktop:H,TestsMobile:F},data:function(){return{rnd:0,nextRouteFunc:null,dialogOutPage:!1,isProjectSaved:!1}},beforeRouteLeave:function(t,e,s){this.nextRouteFunc=s,"results_training"==t.name||"results_credit"==t.name||"results_group_credit"==t.name||"results_tickets_test"==t.name||"results_exam"==t.name?(this.dialogOutPage=!1,this.nextRouteFunc(!0)):(this.dialogOutPage=!0,this.nextRouteFunc(!1))}},G=V,U=Object(x["a"])(G,i,n,!1,null,null,null);e["default"]=U.exports;P()(U,"components",{QPage:w["a"],QDialog:y["a"],QCard:k["a"],QCardSection:Q["a"],QSeparator:T["a"],QBtn:$["a"],QSpace:S["a"]})},"1d46":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup-dialog"},[s("q-card",[s("q-card-section",{staticClass:"inner",class:[t.$q.platform.is.mobile?"q-pt-none q-px-md":"q-px-none"]},[s("div",{staticClass:"image",class:[t.$q.platform.is.desktop?"q-py-lg":"q-pt-lg"]},[s("q-icon",{attrs:{size:t.$q.platform.is.desktop?"100px":"30vw",name:"img:icons/cross_brushed_accent.svg"}})],1),s("div",{class:[t.$q.platform.is.mobile?"font-exo2-m fs-vw-5_3 text-center q-pa-md":"font-vox-mi","title"]},[t.canDismiss?s("div",[t._v("\n          Вы точно хотите отменить запись на вождение?\n        ")]):s("div",[t._v("\n          Вы не можете отменить запись на вождение позже, чем за 24 часа!\n          "),s("div",{staticClass:"q-pt-md text-secondary",class:[t.$q.platform.is.mobile?"font-exo2-m fs-vw-4 text-center q-pa-md":"font-sspro-sr fs-18"]},[t._v("\n            Позвоните инструктору\n            "),s("div",{class:[t.$q.platform.is.mobile?"font-exo2-m fs-vw-5_3 text-center q-pt-sm text-accent":"font-vox-mi fs-20 q-mt-sm text-primary q-mb-lg"]},[s("q-icon",{attrs:{color:"accent",name:"img:icons/phone-orange.svg"}}),t._v("\n              +7 966 888 88 88\n            ")],1)])])])]),t.$q.platform.is.desktop?s("q-separator"):t._e(),s("q-card-section",{class:[t.$q.platform.is.mobile?"q-pt-none":"bg-white"]},[s("div",{staticClass:"row"},[t.canDismiss?[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-grow",class:t.$q.platform.is.mobile?"btn-cancel-mobile":"btn-cancel",attrs:{flat:"","no-caps":"",size:"md",loading:t.loading}},[s("span",{staticClass:"btn-title"},[t._v("Не отменять")])]),s("q-btn",{staticClass:"q-ml-md col-grow",class:t.$q.platform.is.mobile?"btn-orange-mobile":"btn-orange",attrs:{flat:"","no-caps":"",size:"md",loading:t.loading},on:{click:function(e){return t.$emit("cancel-driving")}}},[s("span",{staticClass:"btn-title"},[t._v("Отменить")])])]:[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-grow",class:t.$q.platform.is.mobile?"btn-cancel-mobile":"btn-cancel",attrs:{flat:"","no-caps":"",size:"md",loading:t.loading}},[s("span",{staticClass:"btn-title"},[t._v("Я передумал, не отменять запись")])])]],2)])],1)],1)},n=[],a={name:"DialogCancelDrivingContent",props:{loading:{type:Boolean,default:!1},canDismiss:{type:Boolean,default:!1}}},o=a,r=(s("6381"),s("2877")),c=s("f09f"),l=s("a370"),u=s("0016"),d=s("eb85"),m=s("9c40"),p=s("7f67"),f=s("eebe"),h=s.n(f),g=Object(r["a"])(o,i,n,!1,null,"5ad5f444",null);e["a"]=g.exports;h()(g,"components",{QCard:c["a"],QCardSection:l["a"],QIcon:u["a"],QSeparator:d["a"],QBtn:m["a"]}),h()(g,"directives",{ClosePopup:p["a"]})},"1d9f":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"categories-block row items-center"},[s("page-loader",{attrs:{state:t.pageIsLoad}}),t._l(t.categoriesAll,(function(e){return s("div",{staticClass:"item relative-position",class:{active:e==t.currCat},on:{click:function(s){t.setCategory(e),t.showCategories=!1}}},[t._v("\n    "+t._s(e)+"\n    ")])}))],2)},n=[],a=s("9f3a"),o={name:"Categories",components:{PageLoader:a["a"]},data:function(){return{pageIsLoad:!1}},methods:{setCategory:function(t){var e=this;this.pageIsLoad=!0,this.getClientByCategory(t,!0).then((function(t){e.pageIsLoad=!1}))}}},r=o,c=s("2877"),l=s("0016"),u=s("eebe"),d=s.n(u),m=Object(c["a"])(r,i,n,!1,null,null,null);e["a"]=m.exports;d()(m,"components",{QIcon:l["a"]})},2213:function(t,e,s){"use strict";s("5e44")},"23da":function(t,e,s){"use strict";s("c181")},"25a4":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"popup-dialog",class:[t.$q.platform.is.mobile?"is-mobile":"is-desktop"]},[s("q-card",[s("q-card-section",{class:[t.$q.platform.is.mobile?"q-py-none q-px-md":"q-px-lg gradient"]},[s("div",{class:[t.$q.platform.is.mobile?"font-exo2-m fs-vw-5_3 text-center q-pa-md":"font-vox-mi q-py-md q-px-md","title"]},[t._v("\n          У вас было занятие по вождению "+t._s(t.moment(t.timeStart).format("DD MMMM"))),s("br"),t._v(" с\n          "+t._s(t.moment(t.timeStart).format("HH:mm"))+" до "+t._s(t.moment(t.timeEnd).format("HH:mm"))+"\n        ")])]),t.$q.platform.is.desktop?s("q-separator"):t._e(),s("q-card-section",{class:t.$q.platform.is.mobile?"text-center q-mt-none q-pt-none":"gradient q-py-lg"},[s("div",{class:[t.$q.platform.is.mobile?"fs-vw-3_2 font-sspro-sr":"fs-16 font-sspro-sr","q-mb-md text-center"]},[t._v("\n          Оцените качество занятия:\n        ")]),s("q-rating",{class:[t.$q.platform.is.mobile?"q-mb-lg":""],attrs:{size:t.$q.platform.is.mobile?"8vw":"40px",icon:"img:icons/Schedule_Rating_0.svg","icon-selected":"img:icons/Schedule_Rating_1.svg"},model:{value:t.rating,callback:function(e){t.rating=e},expression:"rating"}}),t.rating<5?s("q-input",{staticClass:"input",class:[t.$q.platform.is.mobile?"q-mx-md":"q-mt-lg"],attrs:{autogrow:"",placeholder:"Расскажите, что вам понравилось или не понравилось...",outlined:"",type:"textarea"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}}):t._e()],1),t.$q.platform.is.desktop?s("q-separator"):t._e(),s("q-card-section",{class:[t.$q.platform.is.mobile?"q-pt-none":"bg-white"]},[s("div",{staticClass:"row items-center justify-center "},[t.$q.platform.is.mobile?s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-ml-md col-grow",class:t.$q.platform.is.mobile?"btn-cancel-mobile":"btn-cancel",attrs:{flat:"","no-caps":"",size:"md"}},[s("span",{staticClass:"btn-title"},[t._v("Не сейчас")])]):t._e(),s("q-btn",{class:[t.$q.platform.is.mobile?"btn-orange-mobile col-grow q-ml-md":"btn-orange"],attrs:{flat:"","no-caps":"",size:"md",loading:t.loading},on:{click:t.submit}},[s("q-icon",{attrs:{name:"img:icons/Button_Send.svg"}}),s("span",{staticClass:"btn-title"},[t._v("Отправить")])],1)],1)])],1)],1)},n=[],a=(s("a9e3"),{name:"DialogRateDrivingContent",props:{loading:{type:Boolean,default:!1},timeStart:{type:Number,default:0},timeEnd:{type:Number,default:0}},data:function(){return{rating:4,text:""}},methods:{submit:function(){this.$emit("submit",{rating:this.rating,text:this.text})}}}),o=a,r=(s("d9f1"),s("2877")),c=s("f09f"),l=s("a370"),u=s("eb85"),d=s("daf4"),m=s("27f9"),p=s("9c40"),f=s("0016"),h=s("8572"),g=s("7f67"),v=s("eebe"),_=s.n(v),b=Object(r["a"])(o,i,n,!1,null,"61d44c78",null);e["a"]=b.exports;_()(b,"components",{QCard:c["a"],QCardSection:l["a"],QSeparator:u["a"],QRating:d["a"],QInput:m["a"],QBtn:p["a"],QIcon:f["a"],QField:h["a"]}),_()(b,"directives",{ClosePopup:g["a"]})},"25cb":function(t,e,s){},"29ba":function(t,e,s){"use strict";s("9fea")},"346d":function(t,e,s){"use strict";s("4e73a")},3731:function(t,e,s){},3865:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",[t.state?s("span",{staticClass:"status-success"},[s("q-icon",{staticClass:"q-mr-sm",staticStyle:{filter:"drop-shadow(0px 3px 5px rgba(47, 201, 22, 1))"},attrs:{name:"img:icons/Alert_Small_OK.svg"}}),t._v("\n    "+t._s(t.y)+"\n    ")],1):t._e(),t.state?t._e():s("span",{staticClass:"status-faild"},[s("q-icon",{staticClass:"q-mr-sm",staticStyle:{filter:"drop-shadow(0px 3px 5px rgba(220, 52, 87, 0.25))"},attrs:{name:"img:icons/Alert_Small_No.svg"}}),t._v("\n    "+t._s(t.n)+"\n    ")],1)])},n=[],a={name:"Viewed",props:{state:{type:Boolean,default:!0},n:{type:String,default:"Не просмотрено"},y:{type:String,default:"Просмотрено"}}},o=a,r=s("2877"),c=s("0016"),l=s("eebe"),u=s.n(l),d=Object(r["a"])(o,i,n,!1,null,null,null);e["a"]=d.exports;u()(d,"components",{QIcon:c["a"]})},"3b90":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"full-width"},[t.showHeader?s("div",{staticClass:"row q-pa-md fs-vw-4"},[s("div",{staticClass:"color-dark "},[t._v("Ближайшие события:")]),s("q-space"),s("div",{staticClass:"text-accent"},[t._v("\n      Полное расписание\n      "),s("q-icon",{staticStyle:{transform:"rotate(0deg)"},attrs:{name:"img:icons/schedule.svg",size:"3vw"}})],1)],1):t._e(),s("q-list",t._l(t.allNearestEvents,(function(e,i){return s("q-item",{key:e.id,class:[e.type,"q-card card-shadow column"]},[s("div",{staticClass:"row font-exo2-m text-dark no-wrap  fs-vw-5_3"},[s("div",[t._v("\n          "+t._s(e.label)+"\n        ")]),s("q-space"),s("div",{staticClass:"text-no-wrap"},[t._v("\n          "+t._s(t.formatTime(e))+"\n        ")])],1),s("div",{staticClass:"row q-mt-sm font-sspro-sr fs-vw-3_2"},[s("div",[t._v("\n          "+t._s(t.formatFromNow(e))+"\n        ")]),s("q-space"),s("div",{staticClass:"time"},[t._v("\n          "+t._s(t.formatDate(e))+"\n        ")])],1)])})),1)],1)},n=[],a=(s("a15b"),s("ac1f"),s("5319"),s("1276"),s("ded3")),o=s.n(a),r=s("2f62"),c=s("c1df"),l=s.n(c),u={name:"NearestEventsListMobile",props:{showHeader:{type:Boolean,default:!0}},computed:o()({},Object(r["c"])(["allNearestEvents"])),methods:{formatTime:function(t){var e=l()(t.timeStart),s=[];return s.push(e.format("HH:mm")),t.timeEnd&&(e=l()(t.timeEnd),s.push(" - "),s.push(e.format("HH:mm"))),s.join("")},formatFromNow:function(t){return l()(t.timeStart).fromNow()},formatDate:function(t){var e=l()(t.timeStart);return Math.abs(l()().diff(e,"days",!0))<=1?e.calendar().split(" ")[0].replace(",",""):e.format("dddd, DD MMMM")}}},d=u,m=(s("7b32"),s("2877")),p=s("2c91"),f=s("0016"),h=s("1c1c"),g=s("66e5"),v=s("f09f"),_=s("eebe"),b=s.n(_),q=Object(m["a"])(d,i,n,!1,null,"55f1f982",null);e["a"]=q.exports;b()(q,"components",{QSpace:p["a"],QIcon:f["a"],QList:h["a"],QItem:g["a"],QCard:v["a"]})},"443c":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"relative-position"},[s("div",{staticClass:"row q-py-md q-px-lg items-center calendar-header"},[s("div",{staticClass:"fs-24 font-vox-mi text-primary"},[t._v("\n      "+t._s(t.$moment(t.startTime).format("DD MMMM")+" - "+t.$moment(t.endTime).format("DD MMMM"))+"\n    ")]),s("q-btn",{staticClass:"fs-15 q-ml-md",attrs:{flat:"","no-caps":"","text-color":"secondary"},on:{click:function(e){return t.moveToCurrentWeek()}}},[s("q-icon",{staticClass:"q-mr-xs",attrs:{size:"20px",name:"img:icons/calendar.svg"}}),s("div",[t._v("Текущая неделя")])],1),t._t("header-right")],2),s("timetables-carousel",{ref:"carousel",attrs:{mode:"weekly","desktop-height":t.desktopHeight,"start-time":t.startTime},on:{"range-change":t.onRangeChange}})],1)},n=[],a=s("006a"),o={name:"InstructorTimetablesDesktop",components:{TimetablesCarousel:a["a"]},props:{desktopHeight:{type:String,default:"500px"}},data:function(){return{startTime:+new Date,endTime:+new Date}},methods:{moveToCurrentWeek:function(){new Date;var t=this.$refs.carousel.getPeriodAsMillis().startTime;this.startTime=t},onRangeChange:function(t){var e=t.startTime,s=t.endTime;this.startTime=e,this.endTime=s}}},r=o,c=(s("a080"),s("2877")),l=s("9c40"),u=s("0016"),d=s("eebe"),m=s.n(d),p=Object(c["a"])(r,i,n,!1,null,"f12cc9ae",null);e["default"]=p.exports;m()(p,"components",{QBtn:l["a"],QIcon:u["a"]})},"4a39":function(t,e,s){},"4e73a":function(t,e,s){},5193:function(t,e,s){},"5abf":function(t,e,s){"use strict";s("91df")},"5e44":function(t,e,s){},"5f67":function(t,e,s){"use strict";s("3731")},6381:function(t,e,s){"use strict";s("04a5")},"677c":function(t,e,s){},"67fb":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{attrs:{"no-route-dismiss":"",maximized:t.$q.platform.is.mobile,"transition-show":t.$q.platform.is.mobile?"fade":"scale","transition-hide":t.$q.platform.is.mobile?"fade":"scale"},on:{"before-hide":t.onBeforeDialogHide},model:{value:t.isOpen,callback:function(e){t.isOpen=e},expression:"isOpen"}},[s("q-card",[t.getSelfInstructor?[s("div",{staticClass:"row dialog-header items-center"},[t.scheduleEntry?[t.scheduleEntry?s("div",[t._v("\n            "+t._s(t.moment(t.scheduleEntry.startTime).format("DD MMMM"))+"\n             \n            "),s("small",{staticClass:"text-no-wrap"},[t._v("\n              "+t._s(t.moment(t.scheduleEntry.startTime).format("HH:mm")+" - "+t.moment(t.scheduleEntry.endTime).format("HH:mm"))+"\n            ")])]):t._e(),s("q-space"),s("q-btn",{staticClass:"q-mr-md",class:t.$q.platform.is.mobile?"btn-orange-mobile":"btn-orange",attrs:{flat:"","no-caps":"",size:"sm",loading:t.loading},on:{click:t.toggleSignUp}},[s("span",{staticClass:"btn-title fs-18"},[t._v(t._s(t.scheduleEntryToRemoveSignup?"Отменить вождение":"Записаться"))])])]:[s("div",[t._v("Об инструкторе")]),s("q-space")],s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-xs",attrs:{dense:"",flat:"",icon:"close",color:"secondary"}})],2),s("q-separator")]:[s("about-instructor-navigation"),s("q-separator")],s("router-view",{staticClass:"content relative-position"})],2),s("q-dialog",{attrs:{"transition-show":t.$q.platform.is.desktop?"flip-right":"jump-up","transition-hide":t.$q.platform.is.desktop?"flip-left":"jump-down",position:t.$q.platform.is.desktop?"standard":"bottom"},model:{value:t.dialogCancelDriving.isOpen,callback:function(e){t.$set(t.dialogCancelDriving,"isOpen",e)},expression:"dialogCancelDriving.isOpen"}},[s("dialog-cancel-driving-content",{attrs:{loading:t.dialogCancelDriving.loading,"can-dismiss":t.dialogCancelDriving.canDismiss},on:{"cancel-driving":t.cancelDriving}})],1)],1)},n=[],a=(s("ac1f"),s("5319"),s("96cf"),s("c973")),o=s.n(a),r=s("ded3"),c=s.n(r),l=s("e576"),u=s("2f62"),d=s("1d46"),m={name:"DialogAboutInstructor",components:{AboutInstructorNavigation:l["a"],DialogCancelDrivingContent:d["a"]},props:{},watch:{"$route.meta":function(t){this.handleRouteMeta()}},data:function(){return{dialogCancelDriving:{isOpen:!1,canDismiss:!1,loading:!1},loading:!1,isOpen:!1}},computed:c()(c()({},Object(u["c"])(["getSelfInstructor","scheduleEntryToSignup","scheduleEntryToRemoveSignup"])),{},{scheduleEntry:function(){return this.scheduleEntryToSignup||this.scheduleEntryToRemoveSignup}}),methods:{cancelDriving:function(){var t=this;return o()(regeneratorRuntime.mark((function e(){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.dialogCancelDriving.loading=!0,e.prev=2,e.next=5,t.$store.dispatch("removeSubscriptionFromEntry",t.scheduleEntry);case 5:s=e.sent,s.data&&s.data.errors?t.$q.notify({color:"accent",icon:"warning",message:s.data.errors[0].message,timeout:3e3,html:!0,position:"top"}):(t.dialogCancelDriving.isOpen=!1,t.$store.dispatch("setScheduleEntryToSignup",t.scheduleEntry),t.$store.dispatch("setScheduleEntryToRemoveSignup",null)),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2);case 12:return e.prev=12,t.dialogCancelDriving.loading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})))()},toggleSignUp:function(){var t=this;return o()(regeneratorRuntime.mark((function e(){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.scheduleEntryToRemoveSignup){e.next=4;break}return t.dialogCancelDriving.canDismiss=t.scheduleEntry.startTime-+new Date>864e5,t.dialogCancelDriving.isOpen=!0,e.abrupt("return");case 4:return t.loading=!0,e.prev=5,s=t.scheduleEntry,e.next=9,t.$store.dispatch("signUpToEntry",s);case 9:i=e.sent,i.data&&i.data.errors?t.$q.notify({color:"accent",icon:"warning",message:i.data.errors[0].message,timeout:3e3,html:!0,position:"top"}):(t.$store.dispatch("setScheduleEntryToRemoveSignup",t.scheduleEntry),t.$store.dispatch("setScheduleEntryToSignup",null)),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5);case 16:return e.prev=16,t.loading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[5,13,16,19]])})))()},handleRouteMeta:function(){var t=!!this.$route.meta.dialogMode;this.isOpen=t},onBeforeDialogHide:function(){this.$router.replace({name:"schedule"}),this.$store.dispatch("setScheduleEntryToSignup",null),this.$store.dispatch("setScheduleEntryToRemoveSignup",null)}},mounted:function(){this.handleRouteMeta()}},p=m,f=(s("5abf"),s("2877")),h=s("24e8"),g=s("f09f"),v=s("2c91"),_=s("9c40"),b=s("eb85"),q=s("7f67"),C=s("eebe"),x=s.n(C),w=Object(f["a"])(p,i,n,!1,null,"372bb68c",null);e["a"]=w.exports;x()(w,"components",{QDialog:h["a"],QCard:g["a"],QSpace:v["a"],QBtn:_["a"],QSeparator:b["a"]}),x()(w,"directives",{ClosePopup:q["a"]})},"6f0c":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card-section",{staticClass:"fit row items-center justify-center"},[s("div",{staticClass:"row text-center"},[s("div",{staticClass:"col-12"},[s("q-icon",{attrs:{name:"img:icons/Schedule_Void.svg",size:t.$q.platform.is.mobile?"20vw":"100px"}})],1),t.lockedHtml?s("div",{staticClass:"col-12  full-width",class:[t.$q.platform.is.mobile?"fs-vw-5_4":"fs-30"],domProps:{innerHTML:t._s(t.lockedHtml)}}):t._e(),t.lockedHintHtml?s("div",{staticClass:"col-12 q-mt-md font-sspro-sr lh-normal text-secondary",class:[t.$q.platform.is.mobile?"fs-vw-3_4":"fs-14"],domProps:{innerHTML:t._s(t.lockedHintHtml)}}):t._e(),t.showChatBtn?s("div",{staticClass:"col-12 q-mt-md"},[s("q-btn",{class:["col-auto",t.$q.platform.is.mobile?"btn-orange-mobile":"btn-orange"],attrs:{flat:"","no-caps":""},on:{click:t.openChat}},[s("q-icon",{attrs:{name:"img:icons/Mobile_mess_white.svg",size:t.$q.platform.is.mobile?"4.2vw":"xs"}}),s("span",{staticClass:"btn-title"},[t._v("Написать администратору")])],1)],1):t._e()])])},n=[],a=s("ded3"),o=s.n(a),r=s("03f3"),c={name:"LockedScreenDesktop",computed:o()({},r["a"]),methods:{openChat:function(){this.$q.platform.is.mobile?this.$router.push({name:"messages"}):this.$store.dispatch("setChatIsOpen",!0)}}},l=c,u=s("2877"),d=s("a370"),m=s("0016"),p=s("9c40"),f=s("eebe"),h=s.n(f),g=Object(u["a"])(l,i,n,!1,null,"4e902be6",null);e["a"]=g.exports;h()(g,"components",{QCardSection:d["a"],QIcon:m["a"],QBtn:p["a"]})},"711b":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.title?s("div",{staticClass:"q-pl-md font-sspro-sr q-pa-sm fs-15"},[t._v(t._s(t.title))]):t._e(),s("q-select",{staticClass:"input50h",class:{show:t.isOpen},attrs:{rounded:"",outlined:"","emit-value":"","map-options":"",options:t.optionsList,"hide-dropdown-icon":"","transition-show":"jump-up","transition-hide":"jump-up"},on:{"popup-show":function(){return t.isOpen=!0},"popup-hide":function(){return t.isOpen=!1}},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{attrs:{name:"img:icons/Input_Drop.svg",size:"12px"}})]},proxy:!0},{key:"option",fn:function(e){return[0!=e.index?s("q-separator"):t._e(),s("q-item",t._g(t._b({directives:[{name:"show",rawName:"v-show",value:e.opt.value!=t.currentValue,expression:"scope.opt.value!=currentValue"}]},"q-item",e.itemProps,!1),e.itemEvents),[s("q-item-section",[s("q-item-label",{staticClass:"fs-18 ellipsis",domProps:{innerHTML:t._s(e.opt.label)}})],1)],1)]}}]),model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}})],1)},n=[],a=(s("a9e3"),{name:"Dropdown",props:{options:{type:Array,default:[]},value:{type:[String,Number],default:[]},title:{type:[String,Object],default:null}},data:function(){return{optionsList:null,currentValue:null,isOpen:!1}},methods:{},computed:{},watch:{options:{handler:function(t,e){this.optionsList=t},deep:!0},value:function(t){this.currentValue=t},currentValue:function(t){this.$emit("update",t)}},mounted:function(){this.optionsList=this.options,this.currentValue=this.value}}),o=a,r=s("2877"),c=s("ddd8"),l=s("0016"),u=s("eb85"),d=s("66e5"),m=s("4074"),p=s("0170"),f=s("eebe"),h=s.n(f),g=Object(r["a"])(o,i,n,!1,null,null,null);e["a"]=g.exports;h()(g,"components",{QSelect:c["a"],QIcon:l["a"],QSeparator:u["a"],QItem:d["a"],QItemSection:m["a"],QItemLabel:p["a"]})},"79c2":function(t,e,s){"use strict";s("8668")},"7b32":function(t,e,s){"use strict";s("b2e9")},"80e6":function(t,e,s){},8291:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-12 col-md-3"},[s("q-card",{staticClass:"fit card-shadow"},[s("q-card-section",{staticClass:"q-pa-lg fs-24 row items-center"},[t._v("\n      Ближайшие события\n    ")]),s("q-separator"),s("q-card-section",{staticClass:"q-pa-none"},[s("q-list",{attrs:{separator:""}},t._l(t.allNearestEvents,(function(e){return s("q-item",{key:e.id},[s("q-item-section",{staticClass:"q-pb-sm q-pt-sm"},[s("q-item-label",{staticClass:"row no-wrap items-center fs-15 font-sspro-sr text-secondary"},[s("div",{staticClass:"round-dot",class:e.type}),s("span",{staticClass:"q-ml-sm"},[t._v(t._s(e.label))])]),s("q-item-label",{staticClass:"q-pt-md fs-20 font-vox-mi",domProps:{innerHTML:t._s(t.formatDateTime(e))}})],1)],1)})),1)],1)],1)],1)},n=[],a=(s("a15b"),s("ac1f"),s("5319"),s("1276"),s("ded3")),o=s.n(a),r=s("2f62"),c=s("c1df"),l=s.n(c),u={name:"NearestEventsListDesktop",computed:o()({},Object(r["c"])(["allNearestEvents"])),methods:{formatDateTime:function(t){var e=l()(),s=l()(t.timeStart),i=[];i.push("<span class='text-primary'>");var n=e.diff(s,"days",!0);return Math.abs(n)<=1?i.push(s.calendar().split(" ")[0].replace(",","")):i.push(s.format("DD MMMM")),i.push(": </span><span class='text-secondary'>"),i.push(s.format("HH:mm")),t.timeEnd&&(s=l()(t.timeEnd),i.push(" - "),i.push(s.format("HH:mm"))),i.push("</span>"),i.join("")}}},d=u,m=s("2877"),p=s("f09f"),f=s("a370"),h=s("eb85"),g=s("1c1c"),v=s("66e5"),_=s("4074"),b=s("0170"),q=s("eebe"),C=s.n(q),x=Object(m["a"])(d,i,n,!1,null,"175b633a",null);e["a"]=x.exports;C()(x,"components",{QCard:p["a"],QCardSection:f["a"],QSeparator:h["a"],QList:g["a"],QItem:v["a"],QItemSection:_["a"],QItemLabel:b["a"]})},8668:function(t,e,s){},"8ea9":function(t,e,s){},"91df":function(t,e,s){},9486:function(t,e,s){"use strict";s("8ea9")},9562:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:["rating","vertical"===t.orientation?"vertical":"",t.inline?"no-wrap text-no-wrap row items-center":""]},[t._t("default"),s("div",{staticClass:"stars-container",class:["vertical"===t.orientation?"":"no-wrap text-no-wrap"]},t._l(5,(function(e){return s("q-icon",{key:e,attrs:{size:t.size,name:t.rating>=e?"img:icons/Schedule_Rating_1.svg":"img:icons/Schedule_Rating_0.svg"}})})),1)],2)},n=[],a=(s("a9e3"),{name:"StarsRating",props:{inline:{type:Boolean,default:!1},rating:Number,orientation:{type:String,default:"vertical"},size:{type:String,default:"md"}}}),o=a,r=(s("79c2"),s("2877")),c=s("0016"),l=s("eebe"),u=s.n(l),d=Object(r["a"])(o,i,n,!1,null,"35375920",null);e["a"]=d.exports;u()(d,"components",{QIcon:c["a"]})},"9f3a":function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"absolute-top-left row items-center justify-center backdrop-loader",class:{show:t.state,hide:!t.state},style:{width:t.$q.platform.is.mobile?"100vw":"100%",height:t.$q.platform.is.mobile?"100vh":"100%"}},[s("q-spinner-tail",{staticClass:"text-accent",attrs:{size:"50px"}})],1)},n=[],a={name:"Viewed",props:{state:{type:Boolean,default:!0}}},o=a,r=(s("adaa"),s("2877")),c=s("007d"),l=s("eebe"),u=s.n(l),d=Object(r["a"])(o,i,n,!1,null,null,null);e["a"]=d.exports;u()(d,"components",{QSpinnerTail:c["a"]})},"9fea":function(t,e,s){},a045:function(t,e,s){},a080:function(t,e,s){"use strict";s("a045")},a086:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.images&&t.images.length?s("viewer",{ref:"viewer",staticClass:"viewer",attrs:{images:t.images,options:t.options},on:{inited:t.inited}},t._l(t.images,(function(t){var e=t.source,i=t.thumbnail;return s("img",{key:e,staticClass:"image",attrs:{src:i,"data-source":e}})})),0):t._e()],1)},n=[],a=s("2b0e"),o=s("6944"),r=s.n(o);s("0808");a["default"].use(r.a);var c={data:function(){return{options:{url:"data-source",navbar:!1,title:!1,rebuild:!1},index:0,images:[]}},methods:{inited:function(t){this.$viewer=t,this.$viewer.view(this.index)},view:function(t){this.index=t,this.$viewer.view(this.index)},show:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.images!==t?(this.images=t,this.index=e):this.view(e)}}},l=c,u=(s("346d"),s("2213"),s("2877")),d=Object(u["a"])(l,i,n,!1,null,"4dc52874",null);e["a"]=d.exports},adaa:function(t,e,s){"use strict";s("03d2")},aecd:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"avatar-container"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.url||"img/default_avatar.svg"}})])])},n=[],a={name:"Avatar",props:{url:String}},o=a,r=(s("9486"),s("2877")),c=Object(r["a"])(o,i,n,!1,null,"32054f92",null);e["a"]=c.exports},b2e9:function(t,e,s){},c181:function(t,e,s){},c34c:function(t,e,s){"use strict";s("fcf1")},c56e:function(t,e,s){"use strict";s("4a39")},cb7f:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{style:t.rootStyle},[t.isLoading?s("page-loader"):t._e(),s("div",{staticClass:"row items-center head-page"},[s("div",{staticClass:"col"},[s("span",{staticClass:"q-ml-sm subtitle col-12"},[t._v("Расписание")]),t.$q.platform.is.mobile?s("div",{staticClass:"page-sub-header q-pl-sm q-pt-xs col-12",domProps:{innerHTML:t._s(t.pageTitle)}}):t._e()]),t.$q.platform.is.mobile&&t.canShowCategories?s("div",{staticClass:"col row justify-end"},[s("categories",{staticClass:"fs-vw-4"})],1):t._e()]),s("div",{class:["schedule-page flex-fit",t.$q.platform.is.mobile?"q-pb-md q-pl-md":"q-pb-lg q-pl-lg"]},[s("div",{class:["row q-col",t.$q.platform.is.mobile?"q-pr-md":"q-col-gutter-lg",t.canShowNearestEvents?"fit":"flex-fit",!t.canShowNearestEvents&&t.$q.platform.is.mobile?"q-pr-md":"",t.canShowNearestEvents||t.$q.platform.is.mobile?"":"q-pr-lg"]},[s("div",{class:["col-12",t.canShowNearestEvents&&!t.$q.platform.is.mobile?"col-md-9":""]},[s("q-card",{staticClass:"fit card-shadow"},[t.pageData.schoolHasInstructors?s("instructors-list-desktop"):t.lockedHtml?s("locked-screen-desktop"):t._e()],1)],1),t.canShowNearestEvents&&!t.$q.platform.is.mobile?s("nearest-events-list-desktop"):t._e(),t.canShowNearestEvents&&t.$q.platform.is.mobile?s("nearest-events-list-mobile"):t._e()],1)])],1)},n=[],a=s("ded3"),o=s.n(a),r=(s("96cf"),s("c973")),c=s.n(r),l=s("2f62"),u=s("03f3"),d=s("9f3a"),m=s("8291"),p=s("6f0c"),f=s("cb80"),h=s("3b90"),g=s("1d9f"),v={name:"ScheduleMainPageContentNotSigned",components:{Categories:g["a"],PageLoader:d["a"],NearestEventsListDesktop:m["a"],LockedScreenDesktop:p["a"],InstructorsListDesktop:f["a"],NearestEventsListMobile:h["a"]},data:function(){return{visible:!1,loadsCounter:0}},methods:{dispatchToStore:function(t){var e=this;return c()(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return e.loadsCounter+=1,s.prev=1,s.next=4,e.$store.dispatch(t);case 4:s.next=9;break;case 6:s.prev=6,s.t0=s["catch"](1);case 9:return s.prev=9,e.loadsCounter-=1,s.finish(9);case 12:case"end":return s.stop()}}),s,null,[[1,6,9,12]])})))()},loadNearestEvents:function(){return c()(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},computed:o()(o()(o()({},u["a"]),Object(l["c"])(["allNearestEvents"])),{},{isLoading:function(){return this.loadsCounter>0},rootStyle:function(){return this.lockedHtml?{display:"flex","flex-direction":"column","flex-grow":1}:{}}}),mounted:function(){}},_=v,b=(s("5f67"),s("2877")),q=s("f09f"),C=s("eebe"),x=s.n(C),w=Object(b["a"])(_,i,n,!1,null,"00835ba9",null);e["a"]=w.exports;x()(w,"components",{QCard:q["a"]})},cb80:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row equal-cols q-mt-auto",class:[t.$q.platform.is.mobile?"q-col-gutter-md q-pl-md q-pr-md q-pb-md":"q-col-gutter-lg q-pl-lg q-pr-lg  q-pb-lg"]},t._l(t.instructorsOnlySignup,(function(e){return s("div",{key:e.id,class:[t.$q.platform.is.mobile?"col-6":t.canShowNearestEvents?"col-12 col-sm-6 col-md-6 col-lg-4":"col-6 col-sm-6 col-md-4 col-lg-3"]},[s("instructor-card",{attrs:{model:e},on:{select:function(s){return t.selectInstructor(e)}}})],1)})),0)},n=[],a=s("ded3"),o=s.n(a),r=s("2f62"),c=s("03f3"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{staticClass:"text-center instructor-card relative-position"},[s("stars-rating",{staticClass:"absolute-top-left",class:[t.$q.platform.is.mobile?"rating":"q-pt-md q-pl-md"],attrs:{rating:t.model.rating,size:t.$q.platform.is.mobile?"2.6vw":"xs"}},[t.$q.platform.is.mobile?t._e():s("div",{staticClass:"text-secondary text-body2 font-sspro-sr q-pb-xs"},[t._v(t._s(t.model.rating)+"\n    ")])]),s("q-card-section",{staticClass:"q-mt-none q-mb-auto top-section"},[s("div",{staticClass:"avatar-container"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.model.avatar||"img/default_avatar.svg"}})])]),s("div",{staticClass:"fio",class:[t.$q.platform.is.mobile?"font-sspro-sr q-pt-sm q-pl-sm q-pr-sm":"q-pt-md q-pl-md q-pr-md"],domProps:{innerHTML:t._s(t.formattedFio)}}),s("div",{staticClass:"description font-sspro-sr text-secondary",class:[t.$q.platform.is.mobile?"q-pt-sm":"q-pt-md"],domProps:{innerHTML:t._s(t.formattedDescription)}})]),s("q-separator",{staticClass:"q-ma-none"}),s("q-card-section",{staticClass:"q-ma-none",class:[t.$q.platform.is.mobile?"":"bg-white"]},[s("q-btn",{staticClass:"col-auto fit",class:t.$q.platform.is.mobile?"btn-orange-mobile":"btn-orange",attrs:{flat:"","no-caps":"",size:"md",to:{name:"schedule.instructor.about",params:{instructorId:t.model.id}}}},[s("span",{staticClass:"btn-title"},[t._v("Подробнее")])])],1)],1)},u=[],d=(s("99af"),s("a15b"),s("ac1f"),s("1276"),s("9562")),m={name:"InstructorCard",components:{StarsRating:d["a"]},props:{model:Object},computed:{formattedFio:function(){var t=this.model.full_name,e=t.split(" "),s=e.shift();return e.unshift("<br>"),e.unshift(s),e.join(" ")},formattedDescription:function(){return"Авто: <b>".concat(this.model.car,"</b><br/>(").concat("M"===this.model.gearbox_type?"Механика":"Автомат",")")}}},p=m,f=(s("c56e"),s("2877")),h=s("f09f"),g=s("a370"),v=s("eb85"),_=s("9c40"),b=s("eebe"),q=s.n(b),C=Object(f["a"])(p,l,u,!1,null,"510a4ea6",null),x=C.exports;q()(C,"components",{QCard:h["a"],QCardSection:g["a"],QSeparator:v["a"],QBtn:_["a"]});var w=s("67fb"),y=(s("e278"),{name:"InstructorsListDesktop",components:{InstructorCard:x,DialogAboutInstructor:w["a"]},data:function(){return{showConfirmationDialog:!1,instructorModelToConfirm:null,idOfSelectedInstructor:0,showAboutDialog:!1}},methods:{selectInstructor:function(t){this.instructorModelToConfirm=t,this.showConfirmationDialog=!0}},watch:{},computed:o()(o()({},Object(r["c"])(["instructorsOnlySignup","allNearestEvents"])),c["a"])}),k=y,Q=Object(f["a"])(k,i,n,!1,null,"4f7f69c4",null);e["a"]=Q.exports},cf91:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-card",{class:{"dialog-pay-desktop":!t.$q.screen.lt.sm}},[s("q-toolbar",{staticClass:"bg-secondary text-white"},[s("q-toolbar-title",[t._v("Оплата")]),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",round:"",dense:"",icon:"close"}})],1),s("q-separator"),s("q-card-section",{staticStyle:{height:"calc(100% - 52px)"}},[s("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.loadedWidget,expression:"!loadedWidget"}],staticClass:"fit",staticStyle:{border:"none"},attrs:{id:"iframe-pay",src:t.widget_uri,bordered:"0"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loadedWidget,expression:"loadedWidget"}],staticClass:"fit flex flex-center"},[s("div",{staticClass:"text-center"},[s("img",{attrs:{src:"https://www.cdn-tinkoff.ru/platform/modules/header/1.22.2/8e5ac93f884752e5b61104ccc1d62aca.svg",width:"150px"}}),s("br"),s("br"),t._v("\n    Загрузка платежного модуля...\n    ")])])])],1)},n=[],a={name:"PayDialog",props:{widget_uri:{type:[String,Object],default:null}},data:function(){return{loadedWidget:!0}},mounted:function(){var t=this,e=document.getElementById("iframe-pay");e.onload=function(){setTimeout((function(){t.loadedWidget=!1}),300)}}},o=a,r=s("2877"),c=s("f09f"),l=s("65c6"),u=s("6ac5"),d=s("9c40"),m=s("eb85"),p=s("a370"),f=s("7f67"),h=s("eebe"),g=s.n(h),v=Object(r["a"])(o,i,n,!1,null,null,null);e["a"]=v.exports;g()(v,"components",{QCard:c["a"],QToolbar:l["a"],QToolbarTitle:u["a"],QBtn:d["a"],QSeparator:m["a"],QCardSection:p["a"]}),g()(v,"directives",{ClosePopup:f["a"]})},d9f1:function(t,e,s){"use strict";s("5193")},e278:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-dialog",{attrs:{"transition-show":t.$q.platform.is.desktop?"flip-right":"jump-up","transition-hide":t.$q.platform.is.desktop?"flip-left":"jump-down",position:t.$q.platform.is.desktop?"standard":"bottom"},model:{value:t.opened,callback:function(e){t.opened=e},expression:"opened"}},[t.instructorModel?s("q-card",[s("q-card-section",{staticClass:"inner"},[s("q-card-section",{class:[,t.$q.platform.is.mobile?"q-pt-none q-px-md":"q-px-none"]},[s("div",{class:[t.$q.platform.is.mobile?"font-exo2-m fs-vw-5_3":"font-vox-mi","title"]},[t._v("\n          Вы точно хотите записаться к этому инструктору?\n        ")])]),s("q-card-section",{staticClass:"info relative-position",class:[t.$q.platform.is.mobile?"row":""]},[s("div",{staticClass:"avatar-container"},[s("div",{staticClass:"avatar"},[s("img",{attrs:{src:t.instructorModel.avatar||"img/default_avatar.svg"}})])]),s("div",[s("div",{class:["fio",t.$q.platform.is.mobile?"fs-vw-4_5 font-sspro-sr":"q-px-md font-vox-mi"],domProps:{innerHTML:t._s(t.formattedFio)}}),s("div",{staticClass:"description font-sspro-sr text-secondary q-mt-sm",class:[t.$q.platform.is.mobile?"fs-vw-4":""],domProps:{innerHTML:t._s(t.formattedDescription)}})]),t.$q.platform.is.mobile?s("q-space"):t._e(),s("stars-rating",{class:[t.$q.platform.is.mobile?"rating":"q-pt-md q-pl-md absolute-top-left"],attrs:{rating:t.instructorModel.rating,size:t.$q.platform.is.mobile?"2.6vw":"16px"}},[t.$q.platform.is.mobile?t._e():s("div",{staticClass:"text-secondary text-body2 font-sspro-sr q-pb-xs"},[t._v("\n            "+t._s(t.instructorModel.rating)+"\n          ")])])],1),s("q-card-section",{staticClass:"hint text-primary q-px-none",class:[t.$q.platform.is.mobile?"fs-vw-4 font-exo2-m q-px-md":""]},[t._v("\n        Сменить инструктора позже можно будет "),s("b",[t._v("только")]),t._v(" через администратора\n      ")])],1),t.$q.platform.is.desktop?s("q-separator"):t._e(),s("q-card-section",{class:[t.$q.platform.is.mobile?"q-pt-none":"bg-white"]},[s("div",{staticClass:"row"},[s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"col-grow",class:t.$q.platform.is.mobile?"btn-cancel-mobile":"btn-cancel",attrs:{flat:"","no-caps":"",size:"md"}},[s("span",{staticClass:"btn-title"},[t._v("Отмена")])]),s("q-btn",{staticClass:"q-ml-md col-grow",class:t.$q.platform.is.mobile?"btn-orange-mobile":"btn-orange",attrs:{flat:"","no-caps":"",size:"md",loading:t.loading},on:{click:t.addSelfInstructor}},[s("span",{staticClass:"btn-title"},[t._v("Да, записаться")])])],1)])],1):t._e()],1)},n=[],a=(s("99af"),s("a15b"),s("a9e3"),s("ac1f"),s("1276"),s("96cf"),s("c973")),o=s.n(a),r=s("9562"),c=s("fa7d"),l={name:"DialogConfirmInstructor",components:{StarsRating:r["a"]},props:{isOpen:Boolean,id:Number},data:function(){return{opened:this.$props.isOpen,loading:!1}},watch:{isOpen:function(t){this.opened=t},opened:function(t){t||this.$emit("close-dialog")}},computed:{instructorModel:function(){return this.$store.getters.detailedInfoById(this.id)},formattedFio:function(){if(this.$q.platform.is.desktop){var t=this.instructorModel.full_name,e=t.split(" "),s=e.shift();return e.unshift("<br>"),e.unshift(s),e.join(" ")}return c["a"].formatFioShort(this.instructorModel.full_name)},formattedDescription:function(){return this.$q.platform.is.desktop?"Авто: <b>".concat(this.instructorModel.car,"</b><br/>(").concat("M"===this.instructorModel.gearbox_type?"Механика":"Автомат",")"):"<b>".concat(this.instructorModel.car,"</b><br/>К/П: ").concat("M"===this.instructorModel.gearbox_type?"Механика":"Автомат")}},methods:{addSelfInstructor:function(){var t=this;return o()(regeneratorRuntime.mark((function e(){var s,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.loading=!0,e.prev=1,s={instructor_id:t.id,category:t.$store.getters.currCat},e.next=5,t.$store.dispatch("addSelfInstructor",s);case 5:if(i=e.sent,200!==i.status){e.next=13;break}return e.next=9,t.$store.dispatch("loadSelfInstructor");case 9:i=e.sent,200===i.status&&i.data.length>0&&t.$router.push({name:"schedule"}),e.next=14;break;case 13:t.$q.notify({color:"accent",icon:"warning",message:"Не удалось записаться к инструктору! (Code:".concat(i.status,")"),timeout:3e3,html:!0,position:"top"});case 14:e.next=20;break;case 17:e.prev=17,e.t0=e["catch"](1);case 20:return e.prev=20,t.loading=!1,e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})))()}},mounted:function(){}},u=l,d=(s("00a7"),s("2877")),m=s("24e8"),p=s("f09f"),f=s("a370"),h=s("2c91"),g=s("eb85"),v=s("9c40"),_=s("7f67"),b=s("eebe"),q=s.n(b),C=Object(d["a"])(u,i,n,!1,null,"ab347964",null);e["a"]=C.exports;q()(C,"components",{QDialog:m["a"],QCard:p["a"],QCardSection:f["a"],QSpace:h["a"],QSeparator:g["a"],QBtn:v["a"]}),q()(C,"directives",{ClosePopup:_["a"]})},e576:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-tabs",{attrs:{"active-bg-color":"white","indicator-color":"transparent"}},[s("q-route-tab",{staticClass:"text-dark q-px-md",class:[t.$q.platform.is.mobile?"font-sspro-sr fs-vw-3_2":"font-vox-mi fs-20"],attrs:{exact:"","no-caps":"",to:{name:"schedule.instructor.about",params:{instructorId:t.$route.params.instructorId}}}},[t._v("\n    Об инструкторе\n  ")]),s("q-route-tab",{staticClass:" text-dark  q-px-md",class:[t.$q.platform.is.mobile?"font-sspro-sr fs-vw-3_2":"font-vox-mi fs-20"],attrs:{exact:"","no-caps":"",to:{name:"schedule.instructor.timetables",params:{instructorId:t.$route.params.instructorId}}}},[t._v("\n    "+t._s(t.$q.platform.is.mobile?"Его расписание":"Расписание")+"\n  ")]),t._t("default"),t.$q.platform.is.mobile?t._e():[s("q-space"),s("q-btn",{staticClass:"q-mr-md",class:t.$q.platform.is.mobile?"btn-orange-mobile":"btn-orange",attrs:{flat:"","no-caps":"",size:"sm"},on:{click:function(e){t.showConfirmationDialog=!0}}},[s("span",{staticClass:"btn-title fs-18"},[t._v("Записаться")])]),s("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],staticClass:"q-mr-xs",attrs:{dense:"",flat:"",icon:"close",color:"secondary"}})],t.$q.platform.is.mobile?t._e():s("dialog-confirm-instructor",{attrs:{id:parseInt(t.$route.params.instructorId,10),"is-open":t.showConfirmationDialog},on:{"close-dialog":function(e){t.showConfirmationDialog=!1}}})],2)},n=[],a=s("e278"),o={name:"AboutInstructorNavigation",components:{DialogConfirmInstructor:a["a"]},data:function(){return{showConfirmationDialog:!1}}},r=o,c=(s("29ba"),s("2877")),l=s("429b"),u=s("7867"),d=s("2c91"),m=s("9c40"),p=s("7460"),f=s("7f67"),h=s("eebe"),g=s.n(h),v=Object(c["a"])(r,i,n,!1,null,"61e8367e",null);e["a"]=v.exports;g()(v,"components",{QTabs:l["a"],QRouteTab:u["a"],QSpace:d["a"],QBtn:m["a"],QTab:p["a"]}),g()(v,"directives",{ClosePopup:f["a"]})},e6b0:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"font-sspro-sr fit relative-position"},[s("q-dialog",{model:{value:t.dialogDislike,callback:function(e){t.dialogDislike=e},expression:"dialogDislike"}},[s("q-card",{staticStyle:{width:"300px"}},[s("q-card-section",{staticClass:"font-vox-sbi fs-20 q-pa-lg gradient-grey text-center"},[t._v("\n          Укажите почему Вас"),s("br"),t._v("не устроила работа"),s("br"),t._v("нашей тех. поддержки\n        ")]),s("q-card-section",[s("q-input",{attrs:{type:"textarea",dense:"",outlined:""},model:{value:t.commentDislike,callback:function(e){t.commentDislike=e},expression:"commentDislike"}})],1),s("q-card-section",{staticClass:"q-pt-none",attrs:{align:"center"}},[s("q-btn",{staticClass:"btn-orange-mobile",attrs:{loading:t.loaderDislike},on:{click:function(e){return t.markTicketForce({contact_user_id:t.currContactID,mark:!1,comment:t.commentDislike})}}},[s("q-icon",{attrs:{name:"img:icons/Button_Send.svg",size:"15px"}}),s("span",[t._v("Отправить")])],1)],1)],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loaderMessages,expression:"loaderMessages"}],staticClass:"messages-main text-center",style:{height:t.height-60+"px","min-height":t.height-60+"px"}},[s("div",{staticClass:"q-pa-md"},[s("q-spinner-puff",{attrs:{color:"primary",size:"50px"}}),s("br"),s("br"),t._v("\n        Получение списка сообщений...\n      ")],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loaderMessages&&t.messages&&0==t.messages.length,expression:"!loaderMessages && messages && messages.length==0"}],staticClass:"messages-main text-center"},[s("div",{staticClass:"q-pa-md flex flex-center",style:{height:t.height-60+"px"}},[t._v("\n        Нет сообщений...\n      ")])]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loaderMessages&&t.messages&&t.messages.length>0,expression:"!loaderMessages && messages && messages.length>0"}],ref:"messages",staticClass:"messages-main scroll",style:{height:t.height-60+"px"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.loaderAppendMessages,expression:"loaderAppendMessages"}],staticClass:"bg-white text-accent text-center q-pa-md"},[s("q-spinner-dots",{staticClass:"q-mr-md",attrs:{color:"accent",size:"30px"}}),t._v("\n    Загрузка...\n    ")],1),t._l(t.messages,(function(e){return"message"==e.kind||"file"==e.kind?s("div",{key:e.id,staticClass:"msg",class:{alien:e.incoming,my:!e.incoming}},[s("p",{staticClass:"time_at"},[t._v(t._s(t.formattedDateMessage(e.created)))]),"message"==e.kind?s("p",{staticClass:"msg_text"},[s("span",{domProps:{innerHTML:t._s(e.text.replace(/\n/g,"<br />"))}})]):t._e(),t._l(t.filesSortedByMediaType(e.files),(function(e,i){return s("div",["img"==e.media_type?s("div",[s("div",{staticClass:"shadow-1 q-mb-sm",staticStyle:{width:"200px",height:"200px","background-repeat":"no-repeat","background-size":"cover","border-radius":"8px",border:"solid 5px #fff","background-position":"top center"},style:{"background-image":"url("+(t.origin+e.file)+")"},attrs:{"data-src":t.origin+e.file},on:{click:function(s){return t.showImage([{thumbnail:t.origin+e.file,source:t.origin+e.file}])}}})]):t._e(),"oth"==e.media_type?s("div",{staticClass:"msg_doc q-mt-lg",on:{click:function(s){return t.downloadFile(e)}}},[s("img",{attrs:{src:"icons/Messages_Attach_R.svg",alt:""}}),s("p",{staticClass:"title"},[t._v(t._s(decodeURIComponent(e.file.replace(/^.*[\\\/]/,"")))),s("span",[t._v(" ("+t._s(t.formatFileSize(e.size))+")")])])]):t._e()])})),s("p")],2):t._e()})),s("q-scroll-observer",{on:{scroll:t.scrollChatHandler}})],2),s("div",{staticClass:"messages-input",style:{"background-color":t.color_input}},[t.currContact&&t.currContact.has_unmarked_ticket?s("div",{staticClass:"q-pa-md"},[s("div",[t._v("Проблема разрешена, оставьте пожалуйста отзыв о работе техподдержки")]),s("div",{staticClass:"row item-center full-width q-mt-md"},[s("div",{staticClass:"col-auto"},[s("q-btn",{staticClass:"btn-cancel-mobile",on:{click:function(e){t.dialogDislike=!0}}},[s("q-icon",{attrs:{name:"img:icons/Messages_Dislike_W.svg",size:"15px"}}),s("span",[t._v("Я не доволен")])],1)],1),s("div",{staticClass:"col q-ml-md"},[s("q-btn",{staticClass:"btn-orange-mobile",on:{click:function(e){return t.markTicketForce({contact_user_id:t.currContactID,mark:!0,comment:"Все хорошо!"})}}},[s("q-icon",{attrs:{name:"img:icons/Messages_Like_W.svg",size:"15px"}}),s("span",[t._v("Я доволен")])],1)],1)])]):t._e(),s("q-separator"),s("q-input",{staticClass:"full-width",attrs:{autogrow:"",placeholder:"Ваше сообщение (ctrl + enter)","input-class":"chat-input",borderless:"","input-style":"max-height: 120px;"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.ctrlEnter(e)},focus:function(e){t.showNavMobile=!1,t.$emit("focusIn")},blur:function(e){t.showNavMobile=!0}},scopedSlots:t._u([{key:"before",fn:function(){return[s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.mobile?"img:icons/Messages_Attach_R.svg":"img:icons/Messages_Attach_G.svg",size:"9px",loading:t.sendingFiles},on:{click:function(e){return t.$refs.files.click()}}})]},proxy:!0},{key:"after",fn:function(){return[s("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.mobile?"img:icons/Messages_Send_mobile.svg":"img:icons/Messages_Send.svg",size:"9px",loading:t.sendingMessage},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.sendMessage()}}})]},proxy:!0}]),model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),s("input",{ref:"files",staticStyle:{display:"none"},attrs:{type:"file",name:"Image",multiple:""},on:{change:function(e){return t.handleFilesPreviewUpload()}}}),s("img-viewer",{ref:"viewer"})],1)},n=[],a=(s("7db0"),s("c740"),s("a9e3"),s("d3b7"),s("ac1f"),s("25f0"),s("5319"),s("6374")),o=s.n(a),r=s("ded3"),c=s.n(r),l=s("2f62"),u=s("a357"),d=s("c1df"),m=s.n(d),p=(s("957c"),s("a086")),f={name:"messages",components:{ImgViewer:p["a"]},props:{color_input:{type:String,default:"#f0f1f7"},height:{type:Number,default:300},mobile:{type:Boolean,default:!1}},data:function(){return{isScrolling:!0,sendingMessage:!1,sendingFiles:!1,loaderMessages:!1,loaderAppendMessages:!1,message:"",files:null,commentDislike:"",dialogDislike:!1,loaderDislike:!1}},methods:c()(c()({},Object(l["b"])(["getChatMessages","sendChatMessage","setListContacts","setChatMessages","appendChatMessages","markTicket"])),{},{markTicketForce:function(t){var e=this;this.loaderDislike=!0,this.setContactUnmarketTicket(!1),this.markTicket(t).then((function(t){e.dialogDislike=!1,e.loaderDislike=!1}))},showImage:function(t){this.$refs.viewer.show(t)},inited:function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(){})),downloadFile:function(t){Object(u["a"])(decodeURIComponent(t.file.replace(/^.*[\\\/]/,"")),t.file)},formattedDateMessage:function(t){return m()(t).format("LLL").replace("г.,","")},filesSortedByMediaType:function(t){return _.orderBy(t,["media_type"],["asc"])},scrollToEnd:function(){var t=this;this.$nextTick((function(){void 0!=t.$refs.messages&&void 0!=t.$refs.messages.scrollHeight&&(t.$refs.messages.scrollTop=t.$refs.messages.scrollHeight)}))},getMessages:function(){var t=this;this.loaderMessages=!0,this.setChatMessages([]),this.socketApp.send(JSON.stringify({command:"interlocutor",content:this.currContactID})),this.getChatMessages({interlocutor_id:this.currContactID}).then((function(e){t.loaderMessages=!1;var s=_.findIndex(t.listContacts,{id:t.currContactID});t.$set(t.listContacts[s],"unreaded_message_count",0),setTimeout((function(){t.scrollToEnd()}),1e3)}))},appendMessage:function(){var t=this;this.chatNext&&!this.loaderMessages&&(this.loaderAppendMessages=!0,this.appendChatMessages({}).then((function(e){if(e.data.results){var s,i=JSON.parse(JSON.stringify(t.chatMessages)),n=o()(e.data.results);try{for(n.s();!(s=n.n()).done;){var a=s.value;i.push(a)}}catch(r){n.e(r)}finally{n.f()}t.isScrolling=!1,t.setChatMessages(i),t.loaderAppendMessages=!1,t.$nextTick((function(){t.$refs.messages.scrollTop=5}))}})))},scrollChatHandler:function(t){"up"==t.direction&&0==t.position&&this.appendMessage()},ctrlEnter:function(t){t.ctrlKey&&this.sendMessage()},sendMessage:function(){var t=this;this.message&&(this.sendingMessage=!0,this.sendChatMessage({recipient_id:this.currContactID,text:this.message}).then((function(e){t.setContactUnmarketTicket(!1),t.sendingMessage=!1,t.message=""})))},handleFilesPreviewUpload:function(){var t=this;this.files=this.$refs.files.files;for(var e=new FormData,s=0;s<this.files.length;s++)e.append("files",this.files[s]);e.append("recipient_id",this.currContactID),e.append("text","Файлы"),this.sendingFiles=!0,this.sendChatMessage(e).then((function(e){t.sendingFiles=!1,t.message=""}))},setContactUnmarketTicket:function(t){this.$set(this.currContact,"has_unmarked_ticket",t)}}),watch:{currContactID:function(t,e){t&&this.getMessages()},messages:function(t,e){t>e&&this.isScrolling?this.scrollToEnd():this.isScrolling=!0}},computed:c()(c()({},Object(l["c"])(["chatMessages","chatNext","origin"])),{},{currContact:function(){return this.currContactID?_.find(this.listContacts,{id:this.currContactID}):null},messages:function(){return _.orderBy(this.chatMessages,(function(t){return new m.a(t.created)}),["ASC"])},showNavMobile:{get:function(){return this.$store.state.glob.showNavMobile},set:function(t){this.$store.commit("setShowNavMobile",t)}}}),mounted:function(){this.currContactID&&this.getMessages()}},h=f,g=s("2877"),v=s("24e8"),b=s("f09f"),q=s("a370"),C=s("27f9"),x=s("9c40"),w=s("0016"),y=s("06d5"),k=s("8380"),Q=s("ed5e"),T=s("eb85"),$=s("eebe"),S=s.n($),I=Object(g["a"])(h,i,n,!1,null,null,null);e["a"]=I.exports;S()(I,"components",{QDialog:v["a"],QCard:b["a"],QCardSection:q["a"],QInput:C["a"],QBtn:x["a"],QIcon:w["a"],QSpinnerPuff:y["a"],QSpinnerDots:k["a"],QScrollObserver:Q["a"],QSeparator:T["a"]})},eb99:function(t,e,s){"use strict";s("677c")},fcf1:function(t,e,s){},ff11:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-grow flex column"},[s("div",{staticClass:"row relative-position items-center q-py-md gradient navigation"},[s("div",{staticClass:"col-grow text-right"},[s("q-icon",{staticClass:"q-mr-sm",attrs:{size:"5vw",name:"navigate_before",color:"primary"}})],1),s("div",{staticClass:"col-4 fs-vw-4_5 text-center font-exo2-m text-primary text-capitalize text-no-wrap"},[t._v("\n      "+t._s(t.$moment(t.startTime).format("DD")+" - "+t.$moment(t.startTime+6048e5).format("DD MMMM"))+"\n\n    ")]),s("div",{staticClass:"col-grow text-left"},[s("q-icon",{staticClass:"q-ml-sm",attrs:{size:"5vw",name:"navigate_next",color:"primary"}})],1),s("q-btn",{staticClass:"absolute-left full-height nav-btn",attrs:{flat:""},on:{click:function(e){return t.$refs.carousel.previous()}}}),s("q-btn",{staticClass:"absolute-right full-height nav-btn",attrs:{flat:""},on:{click:function(e){return t.$refs.carousel.next()}}})],1),s("div",{staticClass:"col-grow"},[s("timetables-carousel",{ref:"carousel",staticClass:"full-height",attrs:{"show-arrows":!1,mode:"weekly","start-time":t.startTime},on:{"range-change":t.onRangeChange}})],1)])},n=[],a=s("006a"),o={name:"InstructorTimeTablesMobile",components:{TimetablesCarousel:a["a"]},data:function(){return{startTime:+new Date}},methods:{onRangeChange:function(t){var e=t.startTime;this.startTime=e}}},r=o,c=(s("eb99"),s("2877")),l=s("0016"),u=s("9c40"),d=s("eebe"),m=s.n(d),p=Object(c["a"])(r,i,n,!1,null,"9245de46",null);e["default"]=p.exports;m()(p,"components",{QIcon:l["a"],QBtn:u["a"]})}}]);