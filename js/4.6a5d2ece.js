(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{c596:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[t.$q.platform.is.mobile?t._e():i("guidebook-desktop"),t.$q.platform.is.mobile?i("guidebook-mobile"):t._e()],1)},s=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[i("q-dialog",{model:{value:t.dialogImgZoom,callback:function(e){t.dialogImgZoom=e},expression:"dialogImgZoom"}},[i("q-card",[i("q-card-section",[i("img",{staticStyle:{width:"100%","max-width":"750px"},attrs:{src:t.imgZoom.src}})]),t.imgZoom.alt?i("q-card-section",{staticClass:"text-h6 q-pt-none",attrs:{align:"center"}},[t._v("\n        "+t._s(t.imgZoom.alt)+"\n      ")]):t._e()],1)],1),i("page-loader",{attrs:{state:t.pageIsLoad}}),i("div",{staticClass:"row items-center head-page"},[i("span",{staticClass:"q-ml-sm subtitle"},[t._v(t._s("guidebook_article"==t.$route.name?"Статья "+t.$route.query.n:"База знаний")+" "+t._s("guidebook_category_detail"==t.$route.name||"guidebook_article"==t.$route.name?":":"")+"\n    ")]),t.current_category&&"guidebook_category_detail"==t.$route.name?i("span",{staticClass:"q-ml-sm subtitle-small self-end"},[t._v("\n      "+t._s(t.current_category.title)+"\n    ")]):t._e(),t.current_article&&"guidebook_article"==t.$route.name?i("span",{staticClass:"q-ml-sm subtitle-small self-end"},[t._v("\n      "+t._s(t.current_article.title)+"\n    ")]):t._e(),i("q-space"),t.$q.screen.width>600&&("guidebook_category_detail"==t.$route.name||"guidebook_article"==t.$route.name)?i("q-btn",{staticClass:"btn-white row items-center q-ml-lg",attrs:{"no-caps":"",flat:""},on:{click:function(e){return t.$router.go(-1)}}},[i("q-icon",{staticStyle:{transform:"rotate(180deg)"},attrs:{name:"img:icons/Arrow_Small.svg",size:"11px"}}),i("span",{staticClass:"q-ml-md"},[t._v("Назад")])],1):t._e()],1),i("div",{staticClass:"content-page"},["guidebook_category"==t.$route.name?i("div",{staticClass:"row",staticStyle:{"margin-top":"-10px"}},t._l(t.listGuidebookCat,(function(e){return i("router-link",{key:e.id,staticClass:"col-xs-12 col-sm-12 col-md-6 col-lg-6 col-xl-6 q-pa-sm cursor-pointer",attrs:{tag:"div",to:"guidebook/"+e.id}},[i("q-card",{staticClass:"card-shadow"},[i("q-card-section",{staticClass:"row items-center q-pa-none"},[i("div",{staticClass:"col-auto"},[i("q-icon",{staticClass:"q-pa-md",attrs:{name:"img:"+t.origin+e.image,size:"150px"}})],1),i("div",{staticClass:"col"},[i("span",{staticClass:"fs-24",domProps:{innerHTML:t._s(e.title)}})]),i("div",{staticClass:"col-auto q-mr-xl"},[i("q-icon",{attrs:{name:"img:icons/Arrow_Small.svg",size:"15px"}})],1)])],1)],1)})),1):t._e(),"guidebook_category_detail"==t.$route.name?i("div",{staticClass:"row"},[t.listGuidebookArticles&&0==t.listGuidebookArticles.length?i("div",{staticClass:"q-pa-md text-center full-width"},[t._v("\n        В этой катеогрии нет данных....\n      ")]):t._e(),t._l(t.listGuidebookArticles,(function(e,a){return i("router-link",{key:e.id,staticClass:"col-12 q-mb-sm cursor-pointer",attrs:{tag:"div",to:"/guidebook/"+t.$route.params.id+"/"+e.id+"/?n="+(a+1)}},[i("q-card",{staticClass:"card-shadow"},[i("q-card-section",{staticClass:"row items-center q-pa-lg"},[i("div",{staticClass:"col font-sspro-sr"},[i("span",{staticClass:"fs-18"},[t._v(" "+t._s(e.title))])]),i("div",{staticClass:"col-auto q-mr-sm"},[i("q-icon",{attrs:{name:"img:icons/Arrow_Small.svg",size:"15px"}})],1)])],1)],1)}))],2):t._e(),"guidebook_article"==t.$route.name?i("q-card",{staticClass:"card-shadow"},[i("q-card-section",{staticClass:"row items-center q-pa-lg font-sspro-sr fs-18",attrs:{id:"article"}},[i("div",{staticStyle:{"line-height":"1.3"},domProps:{innerHTML:t._s(t.currentArticle?t.currentArticle.text:"")}})])],1):t._e()],1)],1)},r=[],n=(i("7db0"),i("c975"),i("e260"),i("d3b7"),i("e6cf"),i("3ca3"),i("ddb0"),i("6374")),c=i.n(n),l=i("ded3"),d=i.n(l),u=(i("bc3a"),i("2f62")),m=i("9f3a"),g={name:"PageIndex",components:{PageLoader:m["a"]},data:function(){return{pageIsLoad:!1,dialogImgZoom:!1,imgZoom:{src:null,alt:null}}},methods:d()(d()({},Object(u["b"])(["getGuidebookCat","getGuidebookArticle","getArticle"])),{},{initCategories:function(){var t=this;this.listGuidebookCat?this.initDataPage():(this.pageIsLoad=!0,this.getGuidebookCat({}).then((function(e){t.initDataPage()})))},initZoomImage:function(){var t=this;this.$nextTick((function(){var e,i=document.querySelectorAll("#article img"),a=c()(i);try{for(a.s();!(e=a.n()).done;){var s=e.value;s.addEventListener("click",(function(e){var i=e.currentTarget.getAttribute("alt");t.imgZoom.src=e.currentTarget.getAttribute("src"),t.imgZoom.alt=-1==i.indexOf("http")?i:null,t.dialogImgZoom=!0}))}}catch(o){a.e(o)}finally{a.f()}}))},initDataPage:function(){var t=this;this.pageIsLoad=!0;var e=[];if(this.$route.params.hasOwnProperty("id")){var i=this.getGuidebookArticle({category_id:this.$route.params.id});e.push(i)}if(this.$route.params.hasOwnProperty("article_id")){var a=this.getArticle({page_id:this.$route.params.article_id});e.push(a)}this.currentArticle&&(this.currentArticle.text="Загрузка..."),Promise.all(e).then((function(e){t.pageIsLoad=!1}))}}),computed:d()(d()({},Object(u["c"])(["origin","listGuidebookCat","listGuidebookArticles","currentArticle"])),{},{current_category:function(){return _.find(this.listGuidebookCat,{id:parseInt(this.$route.params.id)})||null},current_article:function(){return _.find(this.listGuidebookArticles,{id:parseInt(this.$route.params.article_id)})||null}}),watch:{$route:function(t){this.initCategories()},userInfo:function(t){this.initCategories()},currentArticle:function(t){this.initZoomImage()}},mounted:function(){this.userInfo&&this.initCategories()}},p=g,h=i("2877"),b=i("9989"),f=i("24e8"),v=i("f09f"),C=i("a370"),k=i("2c91"),q=i("9c40"),y=i("0016"),$=i("eebe"),w=i.n($),A=Object(h["a"])(p,o,r,!1,null,null,null),I=A.exports;w()(A,"components",{QPage:b["a"],QDialog:f["a"],QCard:v["a"],QCardSection:C["a"],QSpace:k["a"],QBtn:q["a"],QIcon:y["a"]});var x=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[i("q-dialog",{model:{value:t.dialogImgZoom,callback:function(e){t.dialogImgZoom=e},expression:"dialogImgZoom"}},[i("q-card",[i("q-card-section",[i("img",{staticStyle:{width:"100%"},attrs:{src:t.imgZoom.src}})]),t.imgZoom.alt?i("q-card-section",{staticClass:"text-h6 q-pt-none",attrs:{align:"center"}},[t._v("\n        "+t._s(t.imgZoom.alt)+"\n      ")]):t._e()],1)],1),i("q-card",{staticClass:"lessons transparent",staticStyle:{"border-radius":"0 !important"},attrs:{flat:""}},[i("q-card-section",{staticClass:"lesson-top relative-position full-width"},[i("div",{staticClass:"row items-center"},[i("div",{staticClass:"col-auto"},[i("q-btn",{staticClass:"q-pr-md",attrs:{dense:"",round:"",flat:""},on:{click:function(e){return t.$router.go(-1)}}},[i("q-icon",{staticStyle:{transform:"rotate(180deg)"},attrs:{name:"img:icons/schedule.svg",size:"20px"}})],1)],1),i("div",{staticClass:"col"},[i("div",{staticClass:"row items-center"},[i("div",{staticClass:"col"},["guidebook_category"==t.$route.name?i("div",{staticClass:"lesson-head"},[t._v("Теория")]):t._e(),t.current_category&&"guidebook_category_detail"==t.$route.name?i("div",{staticClass:"lesson-head"},[t._v("\n                  "+t._s(t.current_category.title)+"\n                ")]):t._e(),t.current_category&&"guidebook_article"==t.$route.name?i("div",{staticClass:"lesson-head"},[t._v("\n                  "+t._s(t.current_category.title)+"\n                ")]):t._e()])]),i("div",{staticClass:"row q-mt-xs relative-position"},[i("div",{staticClass:"col text-left"},[i("div",{staticClass:"lesson-subtitle"},[i("div",[t._v(t._s("guidebook_category"==t.$route.name?"Выберите раздел":""))]),"guidebook_category_detail"==t.$route.name?i("div",{staticClass:"subtitle-small self-end ellipsis"},[t._v("\n                  Выберите статью\n                ")]):t._e(),t.current_article&&"guidebook_article"==t.$route.name?i("div",{staticClass:"subtitle-small self-end ellipsis"},[t._v("\n                  "+t._s(t.current_article.title)+"\n                ")]):t._e(),i("q-space")],1)])])])])])],1),i("page-loader",{attrs:{state:t.pageIsLoad}}),"guidebook_category"==t.$route.name?i("div",{staticClass:"q-pl-sm q-pr-sm q-pt-sm full-width"},t._l(t.listGuidebookCat,(function(e){return i("router-link",{key:e.id,staticClass:"guidebook-category",attrs:{tag:"div",to:"guidebook/"+e.id}},[i("div",{staticClass:"q-pa-md row items-center"},[i("div",{staticClass:"col font-exo2-m fs-17 text-primary q-pl-sm ellipsis"},[t._v(t._s(e.title))]),i("div",{staticClass:"col-auto"},[i("q-icon",{attrs:{name:"img:icons/schedule.svg"}})],1)])])})),1):t._e(),"guidebook_category_detail"==t.$route.name?i("div",[i("q-list",{attrs:{separator:""}},t._l(t.listGuidebookArticles,(function(e,a){return i("q-item",{key:e.id,attrs:{to:"/guidebook/"+t.$route.params.id+"/"+e.id+"/?n="+(a+1)}},[i("q-item-section",[i("q-item-label",[t._v("\n            "+t._s(e.title)+"\n          ")])],1),i("q-item-section",{attrs:{side:""}},[i("q-item-label",[i("q-icon",{attrs:{name:"img:icons/Arrow_Small.svg",size:"10px"}})],1)],1)],1)})),1)],1):t._e(),"guidebook_article"==t.$route.name?i("div",{staticClass:"q-pa-md relative-position",attrs:{id:"article"}},[t.currentArticle?i("div",{staticStyle:{"line-height":"1.3"},domProps:{innerHTML:t._s(t.currentArticle.text)}}):t._e()]):t._e()],1)},G=[],Z={name:"PageIndex",components:{PageLoader:m["a"]},data:function(){return{pageIsLoad:!1,dialogImgZoom:!1,imgZoom:{src:null,alt:null}}},methods:d()(d()({},Object(u["b"])(["getGuidebookCat","getGuidebookArticle","getArticle"])),{},{initCategories:function(){var t=this;this.listGuidebookCat?this.initDataPage():(this.pageIsLoad=!0,this.getGuidebookCat({}).then((function(e){t.initDataPage()})))},initDataPage:function(){var t=this;this.pageIsLoad=!0;var e=[];if(this.$route.params.hasOwnProperty("id")){var i=this.getGuidebookArticle({category_id:this.$route.params.id});e.push(i)}if(this.$route.params.hasOwnProperty("article_id")){var a=this.getArticle({page_id:this.$route.params.article_id});e.push(a)}this.currentArticle&&(this.currentArticle.text="Загрузка..."),Promise.all(e).then((function(e){t.pageIsLoad=!1}))}}),computed:d()(d()({},Object(u["c"])(["origin","listGuidebookCat","listGuidebookArticles","currentArticle"])),{},{current_category:function(){return _.find(this.listGuidebookCat,{id:parseInt(this.$route.params.id)})||null},current_article:function(){return _.find(this.listGuidebookArticles,{id:parseInt(this.$route.params.article_id)})||null}}),watch:{$route:function(t){this.initCategories()},userInfo:function(t){this.initCategories()},currentArticle:function(t){var e=this;this.$nextTick((function(){var t,i=document.querySelectorAll("#article img"),a=c()(i);try{for(a.s();!(t=a.n()).done;){var s=t.value;s.addEventListener("click",(function(t){var i=t.currentTarget.getAttribute("alt");e.imgZoom.src=t.currentTarget.getAttribute("src"),e.imgZoom.alt=-1==i.indexOf("http")?i:null,e.dialogImgZoom=!0}))}}catch(o){a.e(o)}finally{a.f()}}))}},mounted:function(){this.userInfo&&this.initCategories()}},P=Z,L=i("1c1c"),Q=i("66e5"),S=i("4074"),O=i("0170"),D=Object(h["a"])(P,x,G,!1,null,null,null),T=D.exports;w()(D,"components",{QPage:b["a"],QDialog:f["a"],QCard:v["a"],QCardSection:C["a"],QBtn:q["a"],QIcon:y["a"],QSpace:k["a"],QList:L["a"],QItem:Q["a"],QItemSection:S["a"],QItemLabel:O["a"]});var j={name:"Guidebook",components:{GuidebookDesktop:I,GuidebookMobile:T}},z=j,E=Object(h["a"])(z,a,s,!1,null,null,null);e["default"]=E.exports;w()(E,"components",{QPage:b["a"]})}}]);